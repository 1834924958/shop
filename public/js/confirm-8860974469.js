!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i,r,o,a,s=n(85),c=n(68),l=n(29),u=n(34),d=n(13),f=n(15),h=n(2),p=n(55),v=n(86),_=n(1),g=n(16),m=n(67),w=n(87),y=n(14),b=n(88),x=n(89).Base64,j=(n(94),n(47)),C={},k=h._$getUrlParam("trid")||(new Date).getTime(),T=h._$getUrlParam("sfrom")||0,I=g.extend({__init:function(t){this.__supr(t),this.__initData().then(function(){this.__initItemInfo(),this.__initShipInfo(),this.__initEvent()}.bind(this),function(t,e){d.notify(e||f.DFT_ERROR_MSG)})},__initData:function(){var t=$.Deferred();return SKUID&&(C.skuId=SKUID,C.count=COUNT,C.isPreSell=1==h._$getUrlParam("isPreSell")?!0:!1),ORDERCART&&(C.orderCart=JSON.stringify(ORDERCART)),c.init(C).done(function(e){i=e.data,t.resolve()}).fail(function(e,n,i){t.reject(e,n,i)}),t.promise()},__initShipInfo:function(){var t,e;if(e=this.__getAddressService(),e&&(i.shipAddressId=e),i.shipAddressList&&i.shipAddressList.length)for(var n=i.shipAddressId?function(t){return i.shipAddressId==t.id}:function(t){return t.dft},r=0;r<i.shipAddressList.length;++r)if(n(i.shipAddressList[r])){t=i.shipAddressList[r];break}!t&&i.shipAddressList&&i.shipAddressList.length&&(t=i.shipAddressList[0]),this.__renderShipInfo(t),t||this.__addOrderAddress()},__initItemInfo:function(){var t=!1;a&&(t=!$("#j-agreeCheckbox").is(":checked")),this.__render("#j-item","#j-items",[i.orderCartItemList]),this.__render("#j-itemInfoFtInner","#j-itemInfoFt",{itemPrice:i.itemPrice,couponPrice:i.couponPrice,freightPrice:i.freightPrice,actualPrice:i.actualPrice,couponList:i.couponList,activeCoupon:r,tipList:i.tipList,indicator:i.indicator,showCouponIpt:this.__showCouponIpt||!1,showGiftCardIpt:this.__showGiftCardIpt||!1,showPayPwdIpt:this.__showPayPwdIpt||!1,giftCardCash:i.giftCardCash,giftCardBalance:i.giftCardBalance,useGiftCard:i.useGiftCard}),this.__render("#j-template-userinfo","#j-userinfo-ft",this.__orderAddress||{}),a=$("#j-orderConfirmSubmit"),t&&$("#j-agreeCheckbox").trigger("click"),C.giftCardCash=i&&i.giftCardCash,C.useGiftCard=i&&i.useGiftCard,$('input[type="password"]').placeholder()},__initEvent:function(){var t=this;$("body").on("click","#j-agreeCheckbox",function(e){$(this).is(":checked")?t.__enableSubmit():t.__disableSubmit()}),$("body").on("click","#j-orderConfirmSubmit",function(e){e.preventDefault();var n=$("#j-shipAddress").data("shipAddressId"),i=$("#j-activeCoupon").data("id");if(!n)return void t.__addOrderAddress();if(1==C.useGiftCard)if(C.payPassWord)t.__goPay(n,i);else{var r=$("#j-payPwdIpt").val();if(""==r)return void t.__showTip("#j-payPwdTip","请输入密码","fail");var o=x.encode(r),a=b.verify({passWord:o,type:0});a.done(function(e){C.payPassWord=o,t.__showTip("#j-payPwdTip","密码验证通过","success"),t.__showPayPwdIpt=!1,setTimeout(function(){$(".j-payPwdIptWrap").slideUp(),t.__goPay(n,i)},1500)}),a.fail(function(e,n){"none"!=$(".j-payPwdIptWrap").css("display")?t.__showTip("#j-payPwdTip",n,"fail"):d.notify(n)})}else delete C.payPassWord,t.__goPay(n,i)}),$("body").on("click","#j-changeOrderAddress",function(e){e.preventDefault(),t.__changeOrderAddress()}),$("body").on("click","#j-addOrderAddress",function(e){e.preventDefault(),t.__addOrderAddress()}),$("body").on("click",".j-changeCoupon",function(e){e.preventDefault(),t.__changeCoupon()}),$("body").on("click",".j-userGiftCard",function(e){t.__userGiftCard()}),$("body").on("click","#j-cancelCoupon",function(e){e.preventDefault(),t.__cancelCoupon()}),$("body").on("click","#j-activateCouponBtn",function(e){e.preventDefault(),t.__activateCoupon()}),$("body").on("click","#j-giftCardBtn",function(e){e.preventDefault(),t.__activateGiftCard()}),$("body").on("keyup","#j-giftCardIpt",function(e){e.preventDefault(),t.__giftCardFormat(this)}),$("body").on("keyup","#j-payPwdIpt",function(e){e.preventDefault(),t.__payPwdCheck(this)}),$("body").on("click","#j-continuePay",function(e){e.preventDefault(),t.__continuePay(this)}),$("body").on("click","#j-retailPricePay",function(e){e.preventDefault(),t.__retailPricePay(this)}),$("body").on("click","#j-showActivateCoupon",function(e){e.preventDefault();var n=$("#j-showActivateCoupon .w-icon-normal");if(n.hasClass("icon-normal-up-confirm"))t.__showCouponIpt=!1;else{var i=t.__showPayPwdIpt;if(t.__showCouponIpt=!0,t.__showGiftCardIpt=!1,t.__showPayPwdIpt=!1,1==i&&!C.payPassWord){var r=$.extend(C,{useGiftCard:!1});t.__reload(r)}}t.__initItemInfo()}),$("body").on("click","#j-showGiftCard",function(e){e.preventDefault();var n=$("#j-showGiftCard .w-icon-normal");n.hasClass("icon-normal-up-confirm")?(t.__showGiftCardIpt=!1,t.__initItemInfo()):t.__checkSetPayPwd({successCallBack:function(){var e=t.__showPayPwdIpt;if(t.__showCouponIpt=!1,t.__showGiftCardIpt=!0,t.__showPayPwdIpt=!1,1==e&&!C.payPassWord){var n=$.extend(C,{useGiftCard:!1});t.__reload(n)}t.__initItemInfo()},failCallBack:function(){new y({data:{tips:"为了您的帐号安全请先设置支付密码",okText:"设置",cancelText:"取消"},events:{onok:function(){window.open("/user/securityCenter/setPayPwd")}}})}})})},__reload:function(t,e){var n=this;c.reload(t).done(function(t){i=t.data,(0==i.useGiftCard||0==i.giftCardBalance)&&(n.__showPayPwdIpt=!1),n.__initItemInfo(),"function"==typeof e&&e(t)}).fail(function(t,e){d.notify(errorcode||f.DFT_ERROR_MSG)})},__payPwdCheck:function(t){var e=t.value,n=this,i=x.encode(e);if(6==e.length){$(t).attr("disabled",!0);var r=b.verify({passWord:i,type:0});r.done(function(t){C.payPassWord=i,n.__showTip("#j-payPwdTip","密码验证通过","success"),n.__showPayPwdIpt=!1,setTimeout(function(){$(".j-payPwdIptWrap").slideUp()},1500)}),r.fail(function(e,i){$(t).attr("disabled",!1).val("").focus(),n.__showTip("#j-payPwdTip",i,"fail")})}},__checkSetPayPwd:function(t){var e=b.checkIfSet();e.done(function(e){1==e.data?"function"==typeof t.successCallBack&&t.successCallBack():0==e.data&&"function"==typeof t.failCallBack&&t.failCallBack()})},__giftCardFormat:function(t){var e=$.trim($(t).val());e=e.replace(/[^\s0-9a-zA-z]/g,"").toUpperCase(),$(t).val(e),e=e.replace(/\s/g,"");var n="";e.length>16&&(e=e.substr(0,16));for(var i=0;i<e.length/4;i++)n=e.substring(5*i+4,e.length),e=e.substr(0,5*i+4)+" "+n,e=$.trim(e);$(t).val(e)},__changeCoupon:function(){var t=this,e=$("#j-activeCoupon").data("id");v.show($.map(i.couponList,function(t){return t.validStartDate=m.formatDate(t.validStartTime,"yyyy.MM.dd"),t.validEndDate=m.formatDate(t.validEndTime,"yyyy.MM.dd"),t}),e).then(function(t){return r=t,$.extend(C,{couponId:t.id}),c.reload(C)}).then(function(e){i=e.data,t.__initItemInfo()},function(t,e){t&&d.notify(e||f.DFT_ERROR_MSG)});var n=$("#j-coupons"),o=($(".j-overlay-container"),n.parents(".m-overlay")),a=n.parents(".j-overlay-container");a.css("top","auto"),$(document).scrollTop(0),o.css("position","absolute")},__userGiftCard:function(){var t=this,e=$(".j-userGiftCard").is(":checked");e?t.__checkSetPayPwd({successCallBack:function(){t.__showGiftCardIpt=!1,t.__showCouponIpt=!1,t.__showPayPwdIpt=!0,t.__reload($.extend(C,{useGiftCard:e}),function(){$("#j-payPwdIpt").focus()})},failCallBack:function(){$(".j-userGiftCard").prop("checked",!1),new y({data:{tips:"为了您的帐号安全请先设置支付密码",okText:"设置",cancelText:"取消"},events:{onok:function(){window.open("/user/securityCenter/setPayPwd")}}})}}):(t.__showPayPwdIpt=!1,t.__reload($.extend(C,{useGiftCard:e}),function(t){delete C.payPassWord}))},__cancelCoupon:function(){var t=this;C.couponId=0,r=null,c.reload(C).then(function(e){i=e.data,t.__initItemInfo()})},__activateCoupon:function(){var t=this,e=$.trim($("#j-activateCouponIpt").val());return e?void l.activate(e).then(function(n){6==n.data.status?new _({data:{title:"手机验证",desp:"兑换该优惠码需进行手机验证"},events:{onsucc:function(){l.activate(e).then(function(e){t.__activateCallBack(e)},function(t,e){d.notify(errorcode||f.DFT_ERROR_MSG)})}}}):t.__activateCallBack(n)}):void t.__showTip("#j-activateCouponTip","请输入兑换码")},__activateGiftCard:function(){var t=this,e=$.trim($("#j-giftCardIpt").val().replace(/\s/g,""));return e?void w.bind({code:e}).then(function(e){t.__giftCardActivateCallBack()},function(e,n){var i={"Validate.Error.0003":"请登录后绑定","Validate.Error.0004":"此卡已被使用","Validate.Error.0005":"此卡已过期","Validate.Error.0006":"卡密错误","Validate.Error.0007":"绑定失败","Validate.Error.0008":"错误次数过多"};t.__showTip("#j-giftCardTip",i[n]||"绑定失败")}):void t.__showTip("#j-giftCardTip","请输入卡密")},__giftCardActivateCallBack:function(){var t=this;c.reload(C).then(function(e){i=e.data,t.__initItemInfo(),t.__showTip("#j-giftCardTip","绑定成功","success")})},__activateCallBack:function(t){var e=this,n=1==t.data.status?"success":"fail",r=t.data.tipMsg;"success"===n?c.reload(C).then(function(t){i=t.data,e.__initItemInfo(),e.__showTip("#j-activateCouponTip",r,n)}):e.__showTip("#j-activateCouponTip",r,n)},__showTip:function(t,e,n){var i=$(t);i.hide(),n=n||"fail",i.find(".text").text(e),i.removeClass("w-tipMsg-success").removeClass("w-tipMsg-fail"),i.addClass("w-tipMsg-"+n),i.stop(!0,!0).fadeIn(300),setTimeout(function(){i.stop(!0,!0).fadeOut(300)},5e3)},__hideTip:function(t){var e=$(t);e.hide()},__render:function(t,e,n){var i=$(t).jqote(n);$(e).html(i)},__enableSubmit:function(){a.removeAttr("disabled")},__disableSubmit:function(){a.attr("disabled",!0)},__setAddressService:function(t){h.setCookie(k,t,2/24)},__getAddressService:function(){return h.getCookie(k)},__renderShipInfo:function(t){this.__render("#j-address","#j-orderAddress",t),this.__render("#j-template-userinfo","#j-userinfo-ft",t),t&&t.id&&(this.__setAddressService(t.id),this.__orderAddress=t)},__changeOrderAddress:function(){var t=this;u.change({success:function(e){e&&t.__renderShipInfo(e)}})},__addOrderAddress:function(){var t=this;u.add({success:function(e){t.__renderShipInfo(e)}})},__goCart:function(){window.location.href="/cart"},__goDetail:function(){window.location.href="/item/detail?id="+T},__goPay:function(t,e){var n=this,r={shipAddressId:t};e&&(r.couponId=e),$.extend(C,r),c.submit(C).done(function(i){i.global&&null==i.global.nickname&&null==i.global.username&&0==i.global.userid?j.show(function(){n.__goPay(t,e)}):window.location.href="/order/toPay?orderId="+i.data.orderId}).fail(function(t,e,r){400==t&&r.data&&r.data.skuList?(o=r.data.skuList,n.stocksDialog=s.show(r.data.skuList,r.data.code,T)):"ITEM_NOT_MATCH"===e?new p({data:{tips:"订单内容和购物车商品不一致，请前往购物车调整"},events:{onok:function(){n.__goCart()}}}):"PROMOTION_INVALID"===e?new p({data:{tips:r.data,okText:"返回"},events:{onok:function(){T?n.__goDetail():n.__goCart()}}}):"GIFTCARD_INSUFFICIENT"===e?(d.notify("支付金额发生变动"),setTimeout(function(){C.useGiftCard=!1,n.__showPayPwdIpt=!1,delete C.payPassWord,c.reload(C).then(function(t){i=t.data,n.__initItemInfo()})},1500)):d.notify(e||f.DFT_ERROR_MSG)})},__continuePay:function(){"string"==typeof C.orderCart&&(C.orderCart=JSON.parse(C.orderCart));var t=C.orderCart&&C.orderCart.cartGroupList||[],e=this;$.each(o,function(e,n){$.each(t,function(t,e){$.each(e.giftItemList,function(t,i){return i.skuId==n.skuId&&i.source==n.source?void e.giftItemList.splice(t,1):void 0})})}),C.orderCart=JSON.stringify(C.orderCart),e.stocksDialog.closeDialog(),c.reload(C).done(function(t){var n=$("#j-shipAddress").data("shipAddressId"),i=$("#j-activeCoupon").data("id");e.__goPay(n,i)}).fail(function(t,e){d.notify(errorcode||f.DFT_ERROR_MSG)})},__retailPricePay:function(){"string"==typeof C.orderCart&&(C.orderCart=JSON.parse(C.orderCart));var t=C.orderCart&&C.orderCart.cartGroupList||[],e=this;C.isPreSell&&(C.isPreSell=!1),$.each(o,function(e,n){$.each(t,function(t,e){$.each(e.cartItemList,function(t,e){return e.skuId==n.skuId&&e.isPreSell?void(e.isPreSell=!1):void 0})})}),C.orderCart=JSON.stringify(C.orderCart),e.stocksDialog.closeDialog(),c.reload(C).done(function(t){var n=$("#j-shipAddress").data("shipAddressId"),i=$("#j-activeCoupon").data("id");e.__goPay(n,i)}).fail(function(t,e){d.notify(errorcode||f.DFT_ERROR_MSG)})},__formatCouponDateTime:function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,r=e.getDate();return r=10>r?"0"+r:r,n+"."+i+"."+r}});$(function(){new I})},function(t,e,n){var i=n(2),r=n(4),o=n(6),a=n(8),s=n(11),c=(n(13),n(14)),l='<div>	                      <div class="title j-title">&nbsp;</div>	                      <div class="desp j-desp">&nbsp;</div>	                      <div class="input-wrap">	                        <input class="mobile w-form-control j-mobile" type="text" placeholder="输入手机号">	                        <a class="msgBtn w-button w-button-disabled w-button-l j-msgBtn" href="javascript:void(0);">	                          <span>获取验证码</span>	                        </a>	                      </div>	                      <div class="input-wrap">	                        <input class="msg w-form-control j-msg" type="text" placeholder="输入6位验证码">	                      </div>	                      <div class="tips j-tips">错误</div>	                      <a class="submitBtn w-button w-button-disabled w-button-l j-submit" href="javascript:void(0);">	                          <span>确定</span>	                      </a>	                  </div>';o($);var u=r.extend({__config:function(t){i._$extend(t,{title:"",desp:""})},__init:function(t){this.__supr(t),this.__initNode()},__initNode:function(){void 0==this.__data.parent?this.__body=$(l).showDialog({clsName:"m-mobileValidatePop"}):(this.__body=$('<div class="m-mobileValidate">'+l+"</div>"),$(this.__data.parent).append(this.__body)),this.__canGetSend=!0,this.__canClickForMsgBtn=!1,this.__canClickForSubmitBtn=!1;var t=this,e=this.__mobile=this.__body.find(".j-mobile").first(),n=this.__msgBtn=this.__body.find(".j-msgBtn").first(),i=this.__msgInput=this.__body.find(".j-msg").first(),r=(this.__tips=this.__body.find(".j-tips").first(),this.__submit=this.__body.find(".j-submit").first()),o=this.__body.find(".j-title").first(),a=this.__body.find(".j-desp").first();o.text(this.__data.title),this.__data.desp&&a.text(this.__data.desp),r.click($.proxy(this.__onSubmitCallBack,this)),n.click($.proxy(this.__onGetMsgCallBack,this)),e.keyup(function(){var o=e.val(),a=i.val();""!=o?(n.removeClass("w-button-disabled").addClass("w-button-primary"),t.__canClickForMsgBtn=!0):(n.removeClass("w-button-primary").addClass("w-button-disabled"),t.__canClickForMsgBtn=!1),""!=o&&""!=a?(r.removeClass("w-button-disabled").addClass("w-button-primary"),t.__canClickForSubmitBtn=!0):(r.removeClass("w-button-primary").addClass("w-button-disabled"),t.__canClickForSubmitBtn=!1)}),i.keyup(function(){var n=e.val(),o=i.val();""!=n&&""!=o?(r.removeClass("w-button-disabled").addClass("w-button-primary"),t.__canClickForSubmitBtn=!0):(r.removeClass("w-button-primary").addClass("w-button-disabled"),t.__canClickForSubmitBtn=!1)})},__onGetMsgCallBack:function(){if(this.__canGetSend&&this.__canClickForMsgBtn){var t=this.__mobile.val(),e=60,n=this;if(!s.isCellPhone(t))return this.__tips.text("手机号码格式错误！").show(),!1;this.__tips.hide(),this.__canGetSend=!1,this.__msgBtn.removeClass("w-button-primary").addClass("w-button-disabled").text("60秒"),this.__tid=setInterval(function(){e>0?n.__msgBtn.text(e--+"秒"):(n.__msgBtn.removeClass("w-button-disabled").addClass("w-button-primary").text("获取验证码"),n.__canGetSend=!0,clearInterval(n.__tid))},1e3);var i=a.sendCode({mobile:t});i.fail(function(t,e,i){n.__tips.text(e||"验证码获取过于频繁！").show()})}},__onSubmitCallBack:function(){if(this.__canClickForSubmitBtn){var t=this.__data,e=(t.producId,this.__mobile.val()),n=this.__msgInput.val(),i=this;if(!s.isCellPhone(e))return this.__tips.text("手机号码格式错误！").show(),!1;if(!/^[0-9]{6}$/.test(n))return this.__tips.text("验证码格式错误！").show(),!1;this.__tips.hide();var r=a.isMobileBind({mobile:e});r.done(function(t){1==t.data?new c({data:{tips:"此手机号已绑定其他帐号，<br/>继续绑定会解除原帐号绑定关系",okText:"继续绑定",cancelText:"取消"},events:{onok:function(){i.__verifyCode.bind(i)(n,e)}}}):i.__verifyCode.bind(i)(n,e)})}},__verifyCode:function(t,e){var n=this,i=a.verifyCode({verifyCode:t});i.done(function(t){n.__body.closeDialog(),n._$emit("onsucc",e)}),i.fail(function(t,e,i){n.__tips.text(e||"验证码错误！").show()})}});t.exports=u},function(t,e,n){var i=n(3),r={_baseUID:(new Date).getTime(),uid:function(t,e,n){return(t||"id_")+this._baseUID++},__cookieCache:{},setCookie:function(t,e,n,i,r){var o=t+"="+escape(e),i=i||"/";if(n&&-1!=n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),o+=";expires="+a.toGMTString()}o+=";path="+i,r&&(o+=";domain="+r),document.cookie=o+";",this.clearCookieCache()},clearCookieCache:function(){this.__cookieCache={}},getCookie:function(t){var e="",n=this.__cookieCache;n.lastTime?e=(new Date).getTime()-n.lastTime<1e3?n.cookie:n.cookie=document.cookie:(n.lastTime=(new Date).getTime(),e=n.cookie=document.cookie);var i=new RegExp(t+"=([^;]+)"),r=i.exec(e);return r?r[1]:null},escapeHTML:function(t){return t?("number"==typeof t&&(t=t.toString()),t.replace(/[\u0000]/g,"").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")):""},paddingLeft:function(t,e,n){if(t+="",t.length<e){for(var i="",r=0;r<e-t.length;r++)i+=n;return i+t}return t},extend:function(t,e){for(var n in e)"Function"!=typeof t[n]&&(t[n]=e[n])},trimEnd:function(t,e){for(var n=t.length-1,i=t.length-1;i>=0;i--)if(-1==e.indexOf(t.charAt(i))){n=i;break}return t.substring(0,n+1)},getPrice:function(t){return t/100},getUrl:function(t){return $URL.contextPath+t},getPicUrl:function(t,e){var t=t+"?imageView&thumbnail=",n="";return n="S"==e?"50y50":"M"==e?"120y120":"L"==e?"530y530":"V"==e?"610y500":e.indexOf("y")>0?e:"120y120",t+n+"&quality=100"},_$forIn:function(t,e,n){if(!t||!i._$isFunction(e))return null;if(i._$isNumber(t.length)){for(var o=0,a=t.length;a>o;o++)if(e.call(n,t[o],o,t))return o}else if(i._$isObject(t))return r._$loop(t,e,n);return null},_$loop:function(t,e,n){if(t&&e){var i;for(var r in t)if(t.hasOwnProperty(r)&&(i=e.call(n,t[r],r,t)))return r}},_$extend:function(t,e,n){for(var i in e)(void 0==t[i]||n)&&(t[i]=e[i]);return t},_$typeOf:function(t){return null==t?String(t):{}.toString.call(t).slice(8,-1).toLowerCase()},_$merge:function(t,e){var n,i=r._$typeOf(t),o=r._$typeOf(e);if(i!==o)return e;switch(o){case"object":for(var a in e)e.hasOwnProperty(a)&&(t[a]=r._$merge(t[a],e[a]));break;case"array":for(var a=0,n=e.length;n>a;a++)t[a]=r._$merge(t[a],e[a]);t.length=e.length;break;default:return e}return t},_$isNew:function(){return!!this.getCookie("yx_aui")},_$isLogin:function(){var t=window.$global;return t&&0!=t.userid||!!this.getCookie("S_INFO")||!!this.getCookie("S_OINFO")},_$isLogin2:function(){return!!this.getCookie("S_INFO")||!!this.getCookie("S_OINFO")},_$getFullUrsName:function(){var t="";if(this.getCookie("S_INFO"))t="P_INFO";else{if(!this.getCookie("S_OINFO"))return"";t="P_OINFO"}var e=decodeURIComponent(this.getCookie(t)).replace(/(^\"*)|(\"*$)/g,"")||"",n=e.indexOf("|");return n>0&&(e=e.substring(0,n)+""),e},_$getFullUserName:function(){var t=this._$getFullUrsName(),e=window.$global;return e.nickname||t},_$smoothTo:function(t,e){function n(){l+=.05,l>1&&(l=1),window.scrollTo(s.x*l+r.x,r.y+l*s.y),1>l?a=setTimeout(n,c):i()}function i(){clearTimeout(a),document.onmousewheel=null}if("string"==typeof t&&(t=$(t)),t){var r={x:Math.max(document.body.scrollLeft,document.documentElement.scrollLeft),y:Math.max(document.body.scrollTop,document.documentElement.scrollTop)},o=t.offset();o.y-=40;var a,s={x:o.left-r.x,y:o.top-r.y},e=e||500,c=e/60,l=.01;return document.onmousewheel=i,a=setTimeout(n,c),this}},_$getArrayItems:function(t,e){var n=[];for(var i in t)n.push(t[i]);for(var r=[],o=0;e>o&&n.length>0;o++){var a=Math.floor(Math.random()*n.length);r[o]=n[a],n.splice(a,1)}return r},_$string2object:function(t,e){var n={};return this._$forIn((t||"").split(e),function(t){var e=t.split("=");if(e&&e.length){var i=e.shift();i&&(n[decodeURIComponent(i)]=decodeURIComponent(e.join("=")))}}),n},_$getUrlParams:function(){return this._$string2object(window.location.search.replace("?",""),"&")},_$getUrlParam:function(t){return this._$getUrlParams()[t]||""},_$offset:function(){var t=function(t){return t==document.body||t==document.documentElement};return function(e,n){if(!e)return null;n=n||null;for(var i,r,o,a=e,s={x:0,y:0};a&&a!=n;)i=t(a)||a==e,r=i?0:a.scrollLeft,o=parseInt($(a).css("borderLeftWidth").slice(0,-2))||0,s.x+=a.offsetLeft+o-r,r=i?0:a.scrollTop,o=parseInt($(a).css("borderTopWidth").slice(0,-2))||0,s.y+=a.offsetTop+o-r,a=a.offsetParent;return s}}(),_$openKefu:function(){var t=window.$global;if(this._$isLogin()){var e=(this._$getFullUserName(),this._$getFullUrsName());ysf.config({uid:"0"!=t.userid?t.userid:0,name:"0"!=t.userid?t.userid:0,email:e})}ysf.open()},_$uniqueID:function(){var t=+new Date;return function(){return""+t++}}(),_$getLoginConfig:function(t){var e={product:"yanxuan_web",promark:"SkeBZeG",host:"you.163.com",page:"login",placeholder:{account:"邮箱帐号",pwd:"输入密码"},single:1,gotoRegTextMb:"注册手机帐号",regUrl:"http://reg.163.com/reg/reg.jsp?product=yanxuan_web",cssDomain:"http://yanxuan.nosdn.127.net/",cssFiles:"2792f72d1bf6308f637e10b70a977cf4.css",oauthLoginConfig:[{name:"weixin"},{name:"qq"},{name:"weibo"}]};return t?e.includeBox="j-loginFormWrap":(e.frameSize={width:386,height:444},e.iframeShowAnimation="showAnimation.5s"),e},_$getRebateLoginConfig:function(t){var e={product:"yanxuan_web",promark:"SkeBZeG",host:"you.163.com",page:"login",loginText:"立即查询返现金额",placeholder:{account:"邮箱帐号",pwd:"输入密码"},single:1,regUrl:"http://reg.163.com/reg/reg.jsp?product=yanxuan_web",cssDomain:"http://yanxuan.nosdn.127.net/",cssFiles:"5b62fbe888cddbef97b87ab515a34fd2.css"};return t?e.includeBox="j-login-form":(e.frameSize={width:390,height:330},e.iframeShowAnimation="showAnimation.5s"),e},_$getDownloadLink:function(){var t=this.getCookie("yx_from")||"",e=this._$getUrlParam("channel"),n="/downloadapp";return""!=t&&(n+="?_stat_from="+t),""!=e&&(n+=n.indexOf("?")>0?"&channel="+e:"?channel="+e),n},_$getDownloadQRnode:function(t,e){var n="http://m.you.163.com"+this._$getDownloadLink(),i=new AraleQRCode({text:n,size:t,correctLevel:2});return i},_$createIframe:function(t,e){var n=document.createElement("iframe");n.src=t,e&&(n.attachEvent?n.attachEvent("onload",function(){e(),document.body.removeChild(n)}):n.onload=function(){e(),document.body.removeChild(n)}),document.body.appendChild(n)}};t.exports=r},function(t,e){var n={},i=function(t,e){try{return e=e.toLowerCase(),null===t?"null"==e:void 0===t?"undefined"==e:{}.toString.call(t).toLowerCase()=="[object "+e+"]"}catch(n){return!1}};n._$isFunction=function(t){return i(t,"function")},n._$isString=function(t){return i(t,"string")},n._$isNumber=function(t){return i(t,"number")},n._$isBoolean=function(t){return i(t,"boolean")},n._$isDate=function(t){return i(t,"date")},n._$isArray=function(t){return i(t,"array")},n._$isObject=function(t){return i(t,"object")},t.exports=n},function(t,e,n){var i=n(5),r=[].slice,o=i({__init:function(t){this.__data={},t=t||{},t.events&&this._$on(t.events),this.__data=t.data||{},this.__config&&this.__config(this.__data)},__config:function(t){},_$on:function(t,e){if("object"==typeof t)for(var n in t)this._$on(n,t[n]);else{var i=this,r=i._handles||(i._handles={}),o=r[t]||(r[t]=[]);o.push(e)}return this},_$off:function(t,e){var n=this;if(n._handles){t||(this._handles={});var i,r=n._handles;if(i=r[t]){if(!e)return r[t]=[],n;for(var o=0,a=i.length;a>o;o++)if(e===i[o])return i.splice(o,1),n}return n}},_$emit:function(t){var e,n,i,o=this,a=o._handles;if(t){var n=r.call(arguments,1),i=t;if(!a)return o;if(e=a[i.slice(1)])for(var s=0,c=e.length;c>s;s++)e[s].apply(o,n);if(!(e=a[i]))return o;for(var l=0,c=e.length;c>l;l++)e[l].apply(o,n);return o}}});t.exports=o},function(t,e,n){var i,r;!function(o,a,s){i=s,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}("klass",this,function(){function t(t){return r.call(e(t)?t:function(){},t,1)}function e(t){return typeof t===o}function n(t,e,n){return function(){var i=this.__supr;this.__supr=n[s][t];var r={}.fabricatedUndefined,o=r;try{o=e.apply(this,arguments)}finally{this.__supr=i}return o}}function i(t,i,r){for(var o in i)i.hasOwnProperty(o)&&(t[o]=e(i[o])&&e(r[s][o])&&a.test(i[o])?n(o,i[o],r):i[o])}function r(t,n){function r(){}function o(){this.__init?this.__init.apply(this,arguments):(n||l&&a.apply(this,arguments),u.apply(this,arguments))}r[s]=this[s];var a=this,c=new r,l=e(t),u=l?t:this,d=l?{}:t;return o.methods=function(t){return i(c,t,a),o[s]=c,this},o.methods.call(o,d).prototype.constructor=o,o.extend=arguments.callee,o[s].implement=o.statics=function(t,e){return t="string"==typeof t?function(){var n={};return n[t]=e,n}():t,i(this,t,a),this},o}var o="function",a=/xyz/.test(function(){xyz})?/\b__supr\b/:/.*/,s="prototype";return t})},function(t,e,n){t.exports=function(t){!function(t){function e(){null==c&&(t(document.body).append(o),c=t("#widgetDialogContainer"))}function i(e){var n=t(window).height(),i=e.outerHeight();n-i>0?e.css("top",(n-i)/2).show():e.css("top",0).show()}var r='<div class="m-overlay m-overlay-ani <%=this.dialogClsName||""%> ">	        <div class="w-mask w-mask-ani j-mask"></div>	        <div class="m-pop f-scroll-y overlay-container-ani f-tlbr j-overlay-container <%=this.clsName||""%>">	            <div class="j-w-dialog-body">	                <div class="j-w-dialog-head">	                    <div class="w-close j-close-pop"></div>	                </div>	                <div class="popwin-bd j-w-dialog-content">	                </div>	            </div>	        </div>	        </div>',o='<div id="widgetDialogContainer"></div>',a=1130,s=20,c=null,l=n(7);t.fn.extend({showDialog:function(n){var o,u,d,f,h,p=this;return n=n||{},t("body").addClass("modal-open"),e(),o=t(t.jqote(r,n)),u=o.find(".j-w-dialog-body"),d=o.find(">.j-mask"),f=o.find(">.j-overlay-container"),h=u.find(">.j-w-dialog-content"),h.append(p.html()),c.append(o),i(f),t(window).resize(function(){i(f)}),l.dockIn(u,t(window),{position:"middle,center",dockFunc:"css"}),n.close===!1&&o.find(".j-close-pop").hide(),a+=s,o.css("z-index",a),o.removeClass("f-ani-overlay"),d.addClass("f-ani-mask"),f.addClass("f-ani-bouncein"),u.find(".j-close-pop").bind("click",function(){o.closeDialog(n)}),o},closeDialog:function(e){var n=this;t("html");n.addClass("f-ani-overlay"),setTimeout(function(){e&&"function"==typeof e.onbeforeclose&&e.onbeforeclose(),mask=n.find(">.j-mask"),overlay=n.find(">.j-overlay-container"),mask.removeClass("f-ani-mask"),overlay.removeClass("f-ani-bouncein"),n.remove(),e&&"function"==typeof e.onclose&&e.onclose(),t("body").removeClass("modal-open")},200)}})}(t)}},function(t,e){function n(t){var e=0;if("BODY"==t.get(0).tagName)return 0;"absolute"!=t.css("position")&&(e=t.scrollTop());var i=t.parent();return i&&i.get(0)?e+n(i):e}var i=64,r=[],o="",a={dockV:function(t,e,i){var r="",o="";if(i=$.extend({axis:"left,bottom"},i),i.axis){var a=i.axis.match(new RegExp("(left|center|right)"));a&&a.length>0&&(r=a[0]);var a=i.axis.match(new RegExp("(bottom|middle|top)"));a&&a.length>0&&(o=a[0])}var s=e.offset(),c=e.outerWidth(),l=e.outerHeight(),u=t.offsetParent();if(i.position&&(c=0,l=0,s=i.position),i.iframe){var d=i.iframe.offset();s.top=s.top+d.top,s.left=s.left+d.left}var f=t.outerWidth(),h=t.outerHeight(),p=u.offset(),v=p.left,_=p.top,g=0;"left"==r?g=s.left:"right"==r?g=s.left+c-f:"center"==r&&(g=s.left-(f-c)/2),g-=v;var m=1,w=0;"bottom"==o?(w=s.top+l,w-=m):"top"==o?(w=s.top-h,w+=m):"middle"==o&&(w=s.top-(h-l)/2),w-=_;var y=n(t);w+=y;var b=$.extend({x:0,y:0},i.positionFix);g+=b.x,w+=b.y,t.css("left",g+"px"),t.css("top",w+"px")},dockIn:function(t,e,n){var i="center",r="middle";if(n.axis){var o=n.axis.match(new RegExp("(left|center|right)"));o&&o.length>0&&(i=o[0]);var o=n.axis.match(new RegExp("(bottom|middle|top)"));o&&o.length>0&&(r=o[0])}var a=0,s=0,e=e||$(window),c=e.outerWidth(),l=e.outerHeight(),u=e.scrollTop(),d=t.outerWidth(),f=t.outerHeight();"center"==i?a=(c-d)/2:"right"==i?a=c-d:"left"==i&&(a=0),"middle"==r?s=(l-f)/2:"bottom"==r?s=l-f:"top"==r&&(s=0),s=u+s;var h=$.extend({x:0,y:0},n.positionFix);a+=h.x,s+=h.y,"css"===n.dockFunc?t.css({left:a,top:s}):t.offset({left:a,top:s})},addPop:function(t,e){var n=$(t);n.css("z-index",i++),r.push(n),void 0!=e&&(o=e)},clearPop:function(t){for(var e=$(t),n=r.length-1;n>=0;n--){var i=r[n];if(i.hasClass("f-ani-ppnlmenu")){if(0==e.length||e.length>0&&!$.contains(i.get(0),e.get(0))&&""==o||e.length>0&&o.length>0&&!$.contains(o.get(0),e.get(0))){try{i.removeClass("f-ani-ppnlmenu"),i.hasClass("js-dropmenu-ppnl")?i.addClass("f-hide"):setTimeout(function(){i.addClass("f-hide")},200)}catch(a){i.remove()}r.splice(n,1)}}else r.splice(n,1)}}};$(document).bind("mousedown",function(t){return a.clearPop(t.target),!0}),t.exports=a},function(t,e,n){var i=n(9),r={_ajax:function(t,e,n){var r=e||{},o=$.Deferred();return i.ajax({url:t,data:r,success:function(t){o.resolve(t)},error:function(t,e,n){o.reject(t,e,n)},type:n||"POST"}),o},sendCode:function(t){return this._ajax("/xhr/userMobile/sendBindMobileCode.json",t,"POST")},verifyCode:function(t){return this._ajax("/xhr/userMobile/bindMobile.json",t,"POST")},isMobileBind:function(t){return this._ajax("/xhr/userMobile/isMobileBind.json",t,"POST")},sendOldMobileCode:function(t){return this._ajax("/xhr/userMobile/sendOldMobileCode.json",t,"POST")},verifyOldMobileCode:function(t){return this._ajax("/xhr/userMobile/verifyOldMobileCode.json",t,"POST")},sendNewMobileCode:function(t){return this._ajax("/xhr/userMobile/sendNewMobileCode.json",t,"POST")},changeMobile:function(t){return this._ajax("/xhr/userMobile/changeMobile.json",t,"POST")}};t.exports=r},function(t,e,n){var i=n(10),r=n(2),o={xhrQueue:{},ajax:function(t){var e=this,n=t.url;if(!n)return!1;t.requestTime=new Date,t.param&&(n=i.appendURL(n,t.param)),r.getCookie("yx_csrf")&&(n=i.appendURL(n,{csrf_token:r.getCookie("yx_csrf")})),t.type&&"get"==t.type.toLowerCase()&&(n=i.appendURL(n,{__timestamp:t.requestTime.getTime()}));var o,a,s=t.data||{};o=t.dataType?t.dataType:"json",t.contentType&&(a=t.contentType),"undefined"==typeof a||a===$.ajaxSettings.contentType?s=$.param(s,!0):"application/json"===a&&(s=$.toJSON(s));var c=n+$.toJSON(s),l=e.xhrQueue[c];if(l){var u=l[l.length-1];if(e.xhrQueue[c].push(t),t.requestTime-u.requestTime<3e4)return}else e.xhrQueue[c]=[t];var d=function(t,n,i){var r=e.xhrQueue[c];delete e.xhrQueue[c],r&&($.each(r,function(e,r){r.error&&r.error(t,n,i)}),$.each(r,function(e,r){r.exception&&r.exception.dispatch(t,n,i)}))},f=function(t){var n=e.xhrQueue[c];delete e.xhrQueue[c],$.each(n,function(e,n){n.success&&n.success(t)})},h={url:n,type:t.type||"POST",dataType:o,contentType:a,data:s,async:0==t.async?!1:!0,success:function(t){/^(html|text)$/i.test(o)?f(t):t?t.status&&t.statusText?d(t.status,t.status||"",t):"S_OK"==t.code||"200"==t.code||"201"==t.code?f(t):t.code?d(t.code,t.errorCode||"",t):f(t):d("502","error","no reponse text")}.bind(this),error:function(t,e,n){d("NET_ERROR","",e)}.bind(this)};$.ajax(h)}};t.exports=o,$.ajaxSettings.contentType="application/x-www-form-urlencoded; charset=UTF-8"},function(t,e){var n={cropURL:function(t,e){for(var n=t,i=0;i<e.length;i++){var r=new RegExp("[&]?"+e[i]+"=[^&]+","g");n=n.replace(r,"").replace("?&","?")}return n},getUrlParams:function(t){var e={};if(!t||-1==t.indexOf("?"))return e;for(var n=t.indexOf("?"),i=t.substring(n+1),r=i.split("&"),o=0;o<r.length;o++){var n=r[o].indexOf("=");-1!=n&&(e[r[o].substring(0,n)]=decodeURIComponent(r[o].substring(n+1)))}return e},appendURL:function(t,e){var n=t||"";if(!e)return n;var i=n.split("?"),r=i[0]+"?"+$.param(e,!0);return 2==i.length&&(r=r+"&"+i[1]),r.replace(/&+/gm,"&")},urlHttpsile:function(t,e){var n=t||"",i=$URL.proxyURL;return e&&(i=$URL.mimgProxyURL),0==n.indexOf("http://")?i+n.replace("http://",""):n},jsonp:function(t,e,n){var i=$.extend({charset:"utf-8"},n),r="_tmp_jsonp_callback"+ +new Date;i.funcName&&(r=i.funcName),window[r]=function(){e&&e.apply(window,arguments);try{delete window[r]}catch(t){}};var o={};o[i.callbackName||"callback"]=r;var a=this.appendURL(t,o);this.getScript(a,i.charset,function(){
try{window[r](),delete window[r]}catch(t){}})},getScript:function(t,e,n,i){var r=function(){n&&n.apply(window,arguments)};this._getScript(t,e,r,i)},_getScript:function(t,e,n,i){setTimeout(function(){var r=/loaded|complete|undefined/,o=document.createElement("script");o.setAttribute("charset",e||"utf-8"),o.setAttribute("type","text/javascript"),o.setAttribute("src",t),o.async="async";var a=function(t){r.test(o.readyState)&&(o.onload=o.onerror=o.onreadystatechange=null,o.parentNode.removeChild(o),o=void 0,t?"function"==typeof n&&setTimeout(n,0):"function"==typeof i?setTimeout(i,0):"function"==typeof n&&setTimeout(n,0))};o.onload=function(){a(!0)},o.onerror=function(){a(!1)},o.onreadystatechange=function(){a(!0)};var s=document.getElementsByTagName("head")[0];s.appendChild(o)},0)},getPicUrl:function(t,e,n){var n=n||90,i={quality:n};return e&&(i.thumbnail=e),this.appendURL(t,i)+"&imageView"}};t.exports=n},function(t,e,n){var i=n(12),r={isEmpty:function(t){return""==$.trim(t)?!0:!1},isLegal:function(t,e){var n=/[,%\'\"\/\\;|&*\<\>]/;return n.test(t)?!1:!0},isTel:function(t){var e=/^\d+$/g;return 0!=t.search(e)?!0:!1},isTelPhone:function(t){return/^\d{3,4}-\d{7,8}$/.test(t)?!0:!1},isNumber:function(t){return/^[0-9]*$/.test(t)?!0:!1},isEmail:function(t){return i.isValid(t)?!0:!1},isCellPhone:function(t){return 11==t.length&&/^1[34578][0-9]{9}$/.test(t)?!0:!1},isOverflow:function(t,e){return e=e||20,this.getStringLength(t)>e?!0:!1},isDate:function(t,e){t=(t+"").replace("-","");var n=/(\d{4})(0\d|1[012])(0\d|[12]\d|3[01])/;if(t.length<6||t.length>8||/[^0-9]/g.test(t))return"日期格式不正确";if(6==t.length)t=t.replace(/((?=((\d){1,2})$))/g,"0");else if(7==t.length){var i=t.replace(/(\d)$/g,"0$1");t=n.test(i)?i:t.replace(/(\d{3})$/g,"0$1")}return n.test(t)?(t=t.replace(/((?=((\d{2}){1,2})$))/g,"-"),e?t:!0):"日期格式不正确"},isPic:function(t){var e,n=!1;if(-1!==t.indexOf(".")){e=t.substring(t.lastIndexOf(".")+1,t.length).toLowerCase();for(var i=["bmp","jpg","png","tiff","gif","pcx","tga","exif","fpx","svg","cdr","pcd","dxf","ufo","eps","raw"],r=0;r<i.length;r++)if(e===i[r]){n=!0;break}}return e&&n},getStringLength:function(t){var e=0,n=0;for(n=0;n<t.length;n++)t.charCodeAt(n)>255?e+=2:e++;return e},isChinese:function(t){for(var e=!1,n=0,i=t.length;i>n;n++)if(t.charCodeAt(n)>255){e=!0;break}return e},is163Email:function(t,e){var n=this,i=["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"];if(i=$.makeArray(e).concat(i),n.isEmail(t)){var r=t.split("@")[1];return $.inArray(r,i)<0?!1:!0}return!1},__log:function(t){console.log(t)},checkPositiveNumber:function(t,e,n){return n||"undefined"!=typeof e?"number"!=typeof e?(this.__log(t,"应该是数字"),!1):0>=e?(this.__log(t,"应该是正数"),!1):!0:!0},checkNotNegativeNumber:function(t,e,n){return n||"undefined"!=typeof e?"number"!=typeof e?(this.__log(t,"应该是数字"),!1):0>e?(this.__log(t,"应该是非负数"),!1):!0:!0},checkNotEmptyString:function(t,e,n){return n||"undefined"!=typeof e&&("string"!=typeof e||""!==e)?"string"!=typeof e?(this.__log(t,"应该是字符串"),!1):0===$.trim(e).length?(this.__log(t,"应该是非空字符串"),!1):!0:!0},checkStringInArray:function(t,e,n,i){return i||"undefined"!=typeof e?this.checkNotEmptyString(t,e,i)?-1===$.inArray(e,n)?(this.__log(t,"字符串应该在数组中"),!1):!0:!1:!0},checkArray:function(t,e,n,i){if(!i&&"undefined"==typeof e)return!0;if(!$.isArray(e))return this.__log(t,"应该是数组"),!1;for(var r=0;r<e.length;r++)if(typeof e[r]!==n)return this.__log(t,"应该是类型："+n),!1;return!0},checkBoolean:function(t,e,n){return(n||"undefined"!=typeof e)&&"boolean"!=typeof e?(this.__log(t,"应该是boolean"),!1):!0}};t.exports=r},function(t,e){for(var n="([\\w!#$%&'*+-/=?\\^_`{|}~\\.]+)",i="([-\\w]+(\\.[-\\w]+)+)",r=n+"@"+i,o=['\\"(.+)\\"[ ]*<'+r+">","\\'(.+)\\'[ ]*<"+r+">","([^\"']+)<"+r+">","<"+r+">",'\\"'+r+'\\"',"\\'"+r+"\\'",r,"[ \\\"\\']?(.+)[ \\\"\\']?[ ]*<[ ]*"+r+"[ ]*>"],a=[],s=o.length-1;s>=0;s--)a.push(new RegExp(o[s]));var c={_cache:{},emailPattern:"(\\w+[\\w\\-\\+]*\\w+@\\w+[\\w\\.\\-]*\\w+)",DEFAULT_SEP:";",isValid:function(t){return null!=this._parseEmail(t)},_parseEmail:function(t){t=$.trim(t);for(var e={},n=0;n<a.length;n++){var i=t.match(a[n]);if(null!=i)return 5==i.length?(e.name=i[1].replace(/"/g,""),e.mail=i[2]+"@"+i[3],e):4==i.length?(e.name=i[1].replace(/"/g,""),e.mail=i[1]+"@"+i[2],e):null}}};t.exports=c},function(t,e,n){var i=n(4),r=n(2),o=i.extend({template:'<div class="m-notify hide"><div class="text j-text"></div></div>',iconMap:{success:"u-ok",fail:"u-fail",error:"u-fail",warning:"u-warning"},__config:function(t){r._$extend(t,{messages:"",isHide:!0,type:"",clazz:"hide",duration:2e3})},__init:function(t){this.__supr(t),this.__body=$(this.template),this.__textCon=this.__body.find(".j-text").first(),$(document.body).append(this.__body)},notify:function(t,e,n){t&&"object"==typeof t&&(e=t.type,t=t.message,n=t.duration),this.__data.duration=n||this.__data.duration,this.__data.message=t,this.__data.type=e||"success",this.__body.css("display","block"),this.__textCon.text(this.__data.message);var i=this.__clear.bind(this,t);return setTimeout(function(){this.__body.removeClass("hide").addClass("show")}.bind(this),0),this.__timer&&clearInterval(this.__timer),-1!=this.__data.duration&&(this.__timer=setTimeout(i,this.__data.duration)),i},__clear:function(t){this.__body.removeClass("show").addClass("hide"),setTimeout(function(){this.__body.css("display","none")}.bind(this),500)}}),a=new o;a.Notify=o,t.exports=a},function(t,e,n){var i=n(2),r=n(4),o=(n(13),n(6)),a='<div>	                    <div class="w-title j-title"></div>	                    <div class="w-tips j-text"></div>	                    <a class="w-button w-button-primary w-button-l pos-l j-ok"></a>	                    <a class="w-button w-button-l pos-r j-cancel"></a>	                 </div>';o($);var s=r.extend({__config:function(t){i._$extend(t,{title:"",tips:"",okText:"确定",cancelText:"取消"})},__init:function(t){this.__supr(t),this.__initNode()},__initNode:function(){this.__body=$(a).showDialog({});var t=this.__body.find(".j-ok").first(),e=this.__body.find(".j-cancel").first(),n=this.__body.find(".j-text").first(),i=this.__body.find(".j-title").first();i.html(this.__data.title),n.html(this.__data.tips),e.html(this.__data.cancelText),t.html(this.__data.okText),t.click($.proxy(this.__onOkCallback,this)),e.click($.proxy(this.__onCancelCallback,this))},__onOkCallback:function(){this.__body.closeDialog(),this._$emit("onok")},__onCancelCallback:function(){this.__body.closeDialog(),this._$emit("oncancel")}});t.exports=s},function(t,e){t.exports={ERROR_MAP:{"Validate.Error.0009":"密码错误次数超过每小时上限","Validate.Error.0010":"密码错误次数超过每天上限","Validate.Error.0011":"支付密码错误","Validate.Error.0012":"还没设置支付密码","Validate.Error.0014":"请求错误或超时，请刷新后重试"},DFT_ERROR_MSG:"系统繁忙，请稍后再试",PROMOTION_TYPE_MAP:{0:"无促销",1:"赠券",2:"满赠",3:"满减",4:"加价购",101:"赠券",102:"满赠",103:"满减",104:"加价购",105:"套装",106:"N元购",201:"秒杀",201:"限时购",301:"免邮",302:"免邮",302:"免邮"}}},function(t,e,n){var i=n(4),r=n(2),o=n(17),a=n(19),s=n(24),c=n(30),l=n(31),u=n(32),d=i.extend({__config:function(t){r._$extend(t,{isHideHeader:!1,isHideFooter:!1,isHideFixedTool:!1,isHideNewUserCookie:!1,isShowNewUserGift:!1})},__init:function(t){this.__supr(t),this.__data.isHideHeader||new s,this.__data.isHideFooter||new a,this.__data.isHideFixedTool||(new o,this.__isShowNewUserEntrance()),r._$isNew()||this.__data.isHideNewUserCookie?this.__initNewUserGift():c.confirm({url:location.pathname+location.search}).done(function(t){this.__initNewUserGift()}.bind(this)),$("video").each(function(t,e){e.volume=.1})},__initNewUserGift:function(){var t=this;if("web_in_morenye"==r._$getUrlParam("from"))return void l.show().done(function(e){var n=e.data;if(n.showGiftWin&&n.newUserGift){new u({data:{obj:n.newUserGift},events:{onCancel:function(){t.__isShowNewUserEntrance()},onOk:function(){t.__isShowNewUserEntrance()}}})}});window.PAGE_KEY=location.href;for(var e=unescape(r.getCookie("yx_pagekey_list")||""),n=""==e?[]:e.split(","),i=!0,o=0,a=n.length;a>o;o++)if(n[o]==window.PAGE_KEY){i=!1;break}i&&n.length<31&&window.PAGE_KEY.length<250&&(n.push(window.PAGE_KEY),r.setCookie("yx_pagekey_list",n.join(",")));var s=!0,c=r._$getFullUrsName();this.__data.isShowNewUserGift&&$(window).bind("focus",function(){var e=unescape(r.getCookie("yx_pagekey_list")||""),n=""==e?[]:e.split(","),i=r.getCookie("yx_newUserModal_show");c!=r._$getFullUrsName()&&(c=r._$getFullUrsName(),s=!0),s&&1==i&&1==n.length&&(s=!1,l.show().done(function(e){var n=e.data;if(n.showGiftWin&&n.newUserGift){new u({data:{obj:n.newUserGift},events:{onCancel:function(){t.__isShowNewUserEntrance()},onOk:function(){t.__isShowNewUserEntrance()}}})}}))}),window.onbeforeunload=function(t){t=t||window.event;for(var e=unescape(r.getCookie("yx_pagekey_list")||""),n=e.split(","),i=[],o=0,a=n.length;a>o;o++)n[o]!=window.PAGE_KEY&&i.push(n[o]);r.setCookie("yx_pagekey_list",i.join(",")),r.setCookie("yx_newUserModal_show",1)}},__isShowNewUserEntrance:function(){return null==r.getCookie("yx_showNewUserEntrance")?($("#js-fixedtool").removeClass("m-fixedtool-newuser"),void $(".j-newuser").hide()):void l.isNewUser().done(function(t){t.data&&t.data.isNewUser&&t.data.showEntrance?($("#js-fixedtool").addClass("m-fixedtool-newuser"),$(".j-newuser").show()):($("#js-fixedtool").removeClass("m-fixedtool-newuser"),$(".j-newuser").hide())})}});t.exports=d},function(t,e,n){var i=n(2),r=n(4),o=n(18),a=r.extend({__init:function(t){this.__supr(t),this.__fixedtool=$("#js-fixedtool"),this.__goTopBtn=$("#js-fixedtoolGoTop"),this.__fixedtool.length&&(this.__initFixedTool(),this.__initEventBind(),this.__initKeFu(),this.__initfixedToolStatistics())},__initFixedTool:function(){var t=this.__fixedtool;this.__positionFixedtool(),this.__showGoTopIfNeeded(),t.show()},__initEventBind:function(){$(window).on("resize.fixedtool",this.__positionFixedtool.bind(this)),$(window).on("scroll.fixedtool",this.__showGoTopIfNeeded.bind(this)),$("body").on("click.fixedtool","#js-fixedtoolGoTop",function(t){return t.preventDefault(),this.__goTop(),!1}.bind(this))},__initKeFu:function(){$("#js-fixedtoolCustomerService").click(function(){i._$openKefu()})},__positionFixedtool:function(){var t=this.__fixedtool,e=document.documentElement.clientWidth,n=parseInt(t.css("right")),i=1250>=e?0:(e-1090)/2-80;n!==i&&t.css("right",i)},__showGoTopIfNeeded:function(){var t=this.__goTopBtn,e=$(document).scrollTop(),n=document.documentElement.clientHeight;e>=n?t.addClass("active"):t.removeClass("active")},__goTop:function(){$("body, html").animate({scrollTop:0},800)},__downloadQRcode:function(){var t=i._$getDownloadQRnode(75,20);$("#js-fixedtool .j-qrcode").append(t),$("#js-fixedtool .j-downloadlink").attr("href",i._$getDownloadLink())},__initfixedToolStatistics:function(){$(".j-fixedToolActivity").each(function(){var t=$(this),e=i.getCookie("yx_aui"),n=t.data("id");o({uuid:e,key:"侧边栏活动展示",id:n})})}});t.exports=a},function(t,e){t.exports=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(""+n+"="+t[n]);e.push("type=web&rid="+(new Date).getTime());var i="http://stat.mail.163.com/you/a.js?"+e.join("&");i=encodeURI(i);var r=$.get(i);setTimeout(function(){r.abort()},3e4)}},function(t,e,n){var i=n(20),r=(n(2),n(4)),o=r.extend({__init:function(t){this.__supr(t),$("#j-feedback").click(function(t){t.preventDefault(),i.show()})}});t.exports=o},function(t,e,n){function i(){s($)}function r(){l.init({before:function(t){o=$(u),o.find("#j-feedbackFormWrap").append(t),a=o.showDialog({clsName:"m-feedbackPop"})},success:function(){a.closeDialog(),setTimeout(function(){c.notify("提交成功")},100)}})}var o,a,s=n(6),c=(n(2),n(13)),l=n(21),u=["<div>",'<div class="m-feedbackModal">','<h3 class="title">关于严选，我们还有很多希望与您交流</h3>','<div id="j-feedbackFormWrap"></div>',"</div>","</div>"].join("");e.show=r,i()},function(t,e,n){function i(t){k=t,r(),b.click(function(t){t.preventDefault(),a()}),x.limitIpt({limit:500,update:function(t){m.text(t.length)}}),w.click(function(){p()}),y.click(function(t){t.preventDefault(),p()})}function r(){var t=o(k.formType);k.before(t),_=$("#j-feedbackForm"),g=$("#j-feedbackError"),m=$("#j-feedbackTotalCount"),w=$("#j-feedbackCaptcha"),y=$("#j-feedbackUnclear"),b=$("#j-feedbackSubmit"),x=_.find("[name=content]"),j=_.find("[name=mobile]"),C=_.find("[name=verifyCode]"),x.val("")}function o(t){var t=t||"suggestion",e=v();return $(D).jqote($.extend({captchaUrl:e},S[t]))}function a(){var t={},e=$.trim(j.val());l(),s()&&(t.content=$.trim(x.val()),e&&(t.mobile=e),t.verifyCode=$.trim(C.val()),P.submit(t).then(function(t){c(),k.success()},function(t,e){f(e)}))}function s(){var t=$.trim(x.val()),e=$.trim(j.val()),n=$.trim(C.val());return t?e&&!T.isCellPhone(e)?(f("手机号码格式错误(11位数字)"),u(j),!1):n?!0:(f("验证码不能为空"),u(C),!1):(f("内容不能为空"),u(x),!1)}function c(){l(),x.val(""),j.val(""),C.val(""),p()}function l(){h(),x.removeClass("error"),j.removeClass("error"),C.removeClass("error")}function u(t){d(t),t.focus()}function d(t){t.addClass("error")}function f(t){g.find(".text").text(t),g.removeClass("f-hide")}function h(){g.addClass("f-hide")}function p(){w.attr("src",v())}function v(){return A+"&rand="+I.uid()}var _,g,m,w,y,b,x,j,C,k,T=n(11),I=n(2),E=n(22),P=n(23),S=(n(13),{suggestion:{cntLabel:"反馈内容",cntPlaceholder:"对我们网站、商品、服务，您还有什么建议吗？您还希望在严选上买到什么？请告诉我们..."},expert:{cntLabel:"自我介绍",cntPlaceholder:"例如，小严，男，程序猿，擅长甄选家居用品、数码产品。因为父母从事家居用品相关的行业而受熏陶，且自身爱好摄影等数码产品。我觉得严选一个性价比很高的网站，有“花小钱办大事”的感觉，希望能成为甄选家中的一员，为广大普通消费者甄选良心价的好东西。等等……",clsName:"feedbackForm-expert"}}),A="/xhr/feedback/verifyCode.do?csrf_token="+I.getCookie("yx_csrf"),D=['<script type="text/x-jqote-template">','<form id="j-feedbackForm" class="form m-feedbackForm <%= this.clsName %>">','<div class="formGroup formGroup-feedbackCnt">',"<label><%= this.cntLabel %></label>",'<textarea class="inputControl" name="content" placeholder="<%= this.cntPlaceholder %>"></textarea>','<div class="tip"><span id="j-feedbackTotalCount">0</span>/500</div>',"</div>",'<div class="formGroup formGroup-phone">',"<label>手机号码</label>",'<div class="inputGroup">','<input class="inputControl" autocomplete="off" name="mobile" type="text">','<span class="tip">方便我们与您联系</span>',"</div>","</div>",'<div class="formGroup formGroup-captcha">',"<label>验证码</label>",'<div class="inputGroup">','<input class="inputControl" autocomplete="off" name="verifyCode" type="text">','<img id="j-feedbackCaptcha" class="captcha" src="<%= this.captchaUrl %>">','<a id="j-feedbackUnclear" class="unclear w-link" href="javascript:;">看不清</a>',"</div>",'<div class="submitGroup">','<a id="j-feedbackSubmit" class="w-button w-button-primary w-button-l">提交</a>','<div id="j-feedbackError" class="w-tipMsg tipMsg f-hide" href="javascript:;">','<i class="icon w-icon-normal icon-normal-disable"></i>','<span class="text"></span>',"</div>","</div>","</div>","</form>","</script>"].join("");E($),e.init=i},function(t,e){t.exports=function(t){t.fn.limitIpt=function(e){var n=t(this);n.on("keyup cut paste input",function(){var t=n.val();t.length>e.limit&&(t=t.substring(0,e.limit),n.val(t)),e.update.apply(this,[t])})}}},function(t,e,n){var i=n(9),r={submit:function(t){var e=$.Deferred();return i.ajax({url:"/xhr/feedback/submit.json",contentType:"application/json",data:t,success:function(t){e.resolve(t)},error:function(t,n,i){e.reject(t,n)},type:"POST"}),e}};t.exports=r},function(t,e,n){var i=n(13),r=n(2),o=n(4),a=n(25),s=n(26),c=n(27),l=n(28),u=n(29),d=o.extend({__init:function(t){this.__supr(t),this.__initNoticeList(),this.__initCartNum(),this.__initUcenterDropDown(),this.__initTopbarLink(),this.__initNav(),this.__initSubNav(),this.__initNavItem(),this.__initSearch(),this.__initMiniCartEvent()},__initCouponCount:function(){u.count().done(function(t){$(".useableCouponCount").text("("+t.data.count+")")})},__initDownloadQRnode:function(){var t=r._$getDownloadQRnode(117,30);$(".m-hdAppDownload .j-qrcode").append(t),$(".m-hdAppDownload .j-downloadlink").attr("href",r._$getDownloadLink())},__initNoticeList:function(){var t=$(".j-topNoticeList");t.each(function(){function e(){setTimeout(function(){clearTimeout(n),i.stop(!0,!0).animate({top:parseInt(i.css("top"))-o},500,function(){var t=parseInt(i.css("top"));t+i.height()<=o&&i.css({top:0}),n=e()})},5e3)}var n,i=$(this).find(".j-list"),r=i.find(".j-notice"),o=t.height();r.length>1&&($(r[0]).clone().appendTo(i),n=e())})},__initCartNum:function(){var t=this;this.__updateCartNum(),$(".j-cart-num").on("refreshCartNum",t.__updateCartNum),$(".j-cart-num").on("addCartItem",function(e,n){t.__updateCartNum()}),$(".j-cart-num1, .j-cart-num2").on("addCartItem",function(){$(".j-mini-cart").is(":animated")||t.__getCartData(t.__miniCartAnimation)})},__miniCartAnimation:function(){$(".j-mini-cart").slideDown(500,function(){this.__delayAnmation=window.setTimeout(function(){$(".j-mini-cart").stop(!0,!1).slideUp(300)},2e3)})},__updateCartNum:function(){a.getMiniCartNum().done(function(t){t.data>99?$(".j-cart-num").html("99+").addClass("icon-normal-badge-l").removeClass("icon-normal-badge"):$(".j-cart-num").html(t.data)}).fail(function(t){})},__renderMiniCart:function(t){var e=this,n='	    <%if(this.cartItemList.length > 0){%>	      <div class="wrap">	        <i class="tw-1"></i>	        <i class="tw-2"></i>	        <div class="g-cartInfo j-cartInfo">	          <% var data=this.cartItemList;	          for(var i=0; i<data.length; i++){%>	          <div class="cartItem">	            <div class="item item-left">	              <a href="/item/detail?id=<%=data[i].itemId%>"><img src="<%=data[i].pic%>?quality=90&thumbnail=60x60&imageView" /></a>	              <%if(data[i].preSellStatus != null && data[i].preSellStatus ==1){%>	                <%if(data[i].preSellVolume == 0){%>	                  <p class="g-sellOut">已售罄</p>	                <%}%>	              <%}else{%>	                <%if(data[i].valid && data[i].sellVolume == 0){%>	                  <p class="g-sellOut">已售罄</p>	                <%}%>	                <%if(!data[i].valid){%>	                  <p class="g-offShift">已下架</p>	                <%}%>	              <%}%>	            </div>	            <div class="item item-middle">	              <p><a href="/item/detail?id=<%=data[i].itemId%>" title="<%=data[i].itemName%>"><%=data[i].itemName%></a></p>	              <p><span class="specValue" title="<% for(var j=0; j<data[i].specList.length; j++){%> <%=data[i].specList[j].specValue} %>"><% for(var j=0; j<data[i].specList.length; j++){%> <%=data[i].specList[j].specValue} %></a></span> <span class="count">x&nbsp;<%=data[i].cnt%></span></p>	            </div>	            <div class="item item-right">	              <p class="price">&yen;<%= Number(data[i].actualPrice).toFixed(2)%></p>	              <p class="deleteItem j-deleteItem"><i class="w-icon-normal icon-normal-cart-close" style="width:10px;height:10px;display:inline-block;"></i></p>	              <input type="hidden" value="<%=data[i].skuId%>" />	            </div>	          </div>	          <%}%>	        </div>	        <div class="cartBottom">	         <div class="totalPrice">商品合计:&nbsp;<span>&yen;<%= Number(this.totalPrice).toFixed(2)%></span></div>	         <div class="goToCart"><a class="btn w-button w-button-primary" href="/cart">去购物车结算</a></div>	        </div>	      </div>	    <%}';t=t.data;var i=$.jqote(n,t);$("#newMiniCart").html(i),e.__scrollTopValue&&($(".j-cartInfo").scrollTop(e.__scrollTopValue),e.__scrollTopValue=0),e.__bindDeleteEvent()},__getCartData:function(t){var e=a.getMiniCart();e.done(function(e){this.__renderMiniCart(e),t&&setTimeout(function(){t()},10)}.bind(this))},__bindDeleteEvent:function(){var t=this;$(".j-deleteItem").on("click",function(){var e=$(this).parent().children("input").val();t.__scrollTopValue=$(".j-cartInfo").scrollTop(),t.__deleteCartItem(e)})},__handleCartHover:function(){return this.__urlHasCart()?!1:(this.__getCartData(),this.__updateCartNum(),void $(".j-mini-cart").show())},__forbidBodyScroll:function(){var t=$("body").width();console.log(t),$("body").css("overflow","hidden");var e=$("body").width();console.log(e),$("body").css("marginRight",e-t),$(".m-funcTab-fixed").css("paddingRight",e-t),this.__fixedToolRight=Number.parseInt($(".m-fixedtool").css("right")),$(".m-fixedtool").css("right",this.__fixedToolRight+e-t)},__enableBodyScroll:function(){$("body").css({overflow:"auto",marginRight:0}),$(".m-funcTab-fixed").css("paddingRight",0),$(".m-fixedtool").css("right",this.__fixedToolRight)},__urlHasCart:function(){var t,e=window.location.pathname;return t=e.indexOf("cart")>=0?!0:!1},__initMiniCartEvent:function(){var t=this;$(".j-button-cart, .j-cart").on("mouseenter",function(){var e=$(".j-mini-cart").css("display");return"block"==e?!1:void t.__handleCartHover()}),$(".j-button-cart, .j-cart").on("mouseleave",function(t){var e=$(t.relatedTarget);return e.hasClass("j-mini-cart")?!1:($(".j-cartInfo").scrollTop(0),void $(".j-mini-cart").hide())}),$(".j-mini-cart").on("mouseleave",function(e){t.__enableBodyScroll();var n=$(e.relatedTarget);return n.hasClass("icon-normal-blackcart")?!1:($(".j-cartInfo").scrollTop(0),void $(".j-mini-cart").hide())}),$(".j-mini-cart").on("mouseenter",function(){t.__forbidBodyScroll(),$(this).stop(!0),$(this).show(),window.clearTimeout(this.__delayAnmation)})},__deleteCartItem:function(t,e){var n=a.deleteCart({selectedSku:JSON.stringify({skuList:[{skuId:t,gift:!1,promId:0}]})});n.then(function(){this.__getCartData(),this.__updateCartNum()}.bind(this),function(t,e,n){i.notify(e||"删除购物车失败","error"),this.__getCartData()}.bind(this))},__initUcenterDropDown:function(){var t=null,e=this;$(".js-userCenterToggle").on("click",function(t){t.stopPropagation()}),$(".js-userCenter").hover(function(){e.__initCouponCount(),t=setTimeout(function(){$(this).find(".js-userCenterToggle").trigger("show.jq-dropdown")}.bind(this),200)},function(){clearTimeout(t),$(this).find(".js-userCenterToggle").trigger("hide.jq-dropdown")})},__initTopbarLink:function(){var t=$(".j-topRegister");t.length&&t.attr("href",t.data("href")+"&url="+encodeURIComponent(window.location.href)),$(".j-topLogin").attr("href","/u/login?callback="+encodeURIComponent(window.location.href.replace(window.location.protocol+"//"+window.location.host,"")))},__initNav:function(){var t=$("#js-funcTabWrap"),e=$("#js-funcTab");t.height(e.height());var n=function(){$(document).scrollTop()>=192?e.addClass("m-funcTab-fixed"):e.removeClass("m-funcTab-fixed")};$(window).on("scroll.miniNav",n),n()},__initSubNav:function(){var t=this;$(window).on("resize.cateCard",function(){t.__resizeCatecard()})},__resizeCatecard:function(){var t=$("body"),e=$(".j-nav-cateCard"),n=t.width();e.css({width:n,left:-n/2})},__initNavItem:function(){var t=this;t.__changeWidthFlag=0,$(".j-nav-item").mouseenter(function(e){t.__changeWidthFlag?t.__changeWidthFlag++:t.__resizeCatecard();var n=$(this).find(".j-nav-dropdown");n.stop(!0,!0).fadeIn(200)}),$(".j-nav-item").mouseleave(function(t){var e=$(this).find(".j-nav-dropdown"),n=$(t.relatedTarget);if(n.hasClass("j-nav-item")){var i=n.find(".j-nav-dropdown");e.stop(!0,!0).fadeOut(0),i.stop(!0,!0).fadeIn(0)}else e.stop(!0,!0).fadeOut(200)})},__initSearch:function(){function t(t){var e=$(this).data("defaultword")||"",n=$(this).attr("placeholder")||"";("undefined"==typeof keyword||"undefined"!=typeof keyword&&n==e)&&(a("remove"),g=""),o.call(this,t)}function e(){var t=r.escapeHTML($.trim(f.val())||$.trim(f.attr("placeholder"))),e=f.data("defaultword")||"",n=f.attr("placeholder")||"";return""==t?!1:(v.__suggestRender({operate:"add"},t),void(""!=g&&void 0!=g&&("undefined"==typeof keyword||"undefined"!=typeof keyword&&n==e&&""==$.trim(f.val()))?top.location.href=g:"夏日甜心"==t&&(new Date).getTime()<14761152e5?top.location.href="http://you.163.com/topic/20160730?keyword="+encodeURIComponent(t):top.location.href=_+"?keyword="+encodeURIComponent(t)+"#page=1&sortType=0&descSorted=true&categoryId=0&matchType=0"))}function n(t){t=r.escapeHTML(t),v.__suggestRender({operate:"add"},t),"夏日甜心"==t&&(new Date).getTime()<14761152e5?top.location.href="http://you.163.com/topic/20160730?keyword="+encodeURIComponent(t):top.location.href=_+"?keyword="+encodeURIComponent(t)+"#page=1&sortType=0&descSorted=true&categoryId=0&matchType=0"}function i(){var t=$(this).val()||"",e={keywordPrefix:t};""!=t&&s.searchAutoComplete(e).done(function(t){v.__suggestRender({operate:"autoComplete",$content:d},t.data||[])}).fail(function(t){})}function o(t){if(38!=t.keyCode&&40!=t.keyCode&&13!=t.keyCode){var e=$(this).val()||"";""==e?v.__suggestRender({$content:d}):i.apply(this)}}function a(t){var e=$("#j-searchplaceholder");"remove"==t?"4.0"==m?e.hide():f.attr("placeholder",""):"add"==t&&("4.0"==m?0==e.length?$("#j-placeholderwarp").html('<label id="j-searchplaceholder" for="" class="searchplaceholder f-txt-assist j-searchplaceholder">'+f.data("defaultword")||"</label>"):e.show():f.attr("placeholder",f.data("defaultword")||""))}var u=$("#j-search"),d=u.find(".js-ppnl-content"),f=u.find(".j-searchInput"),h=u.find(".j-searchButton"),p=u.find(".j-searchSuggest"),v=this,_="/search",g=h.data("searchurl"),m=c._$KERNEL.release;return 0==u.length?!1:(l.inputSuggest(p,f,{callback:n}),h.on("click",e),$("#j-placeholderwarp").click(function(){f.focus()}),p.on("click mousedown",".j-delete",function(t){v.__suggestRender({operate:"delete",$content:d},$(t.currentTarget).data("index"));var e=JSON.parse(unescape(r.getCookie("_search_history")))||[];return 0==e.length&&$(".j-searchSuggest").addClass("f-hide"),!1}),p.on("click mousedown",".j-deleteAll",function(t){v.__suggestRender({operate:"deleteAll",$content:d})}),"undefined"==typeof keyword&&a("add"),void f.on("keydown",function(t){if(13==t.keyCode){if(p.find(".hl-item-selected").length>0)return;e()}}).on("keyup",o).on("focusin",t).on("focusout",function(e){""==$(this).val()&&(a("add"),$(this).off("focusin"),$(this).on("focusin",t),g=h.data("searchurl"))}).on("change",function(){$(this).off("focusin")}))},__suggestRender:function(t,e){var n=$.extend({},{operate:"init",template:'<ul class="m-list">	                  <%if(this.suggestHistory.length>0){%>	                    <%if("'+t.operate+'"!="autoComplete"){%>	                    <li class="top-item">	                        <span class="top-item-txt">最近搜索</span>	                        <span class="w-icon-normal icon-normal-deleteAll j-deleteAll"></span>	                    </li>	                    <%}%>	                  <%}%>	                  <%for (var i = this.suggestHistory.length-1 ;i>=0;i--){%>	                  <li class="hl-item">	                      <span class="hl-item-txt"><%= this.suggestHistory[i]%></span>	                      <%if("'+t.operate+'"!="autoComplete"){%><span class="w-icon-normal icon-normal-delete j-delete" data-index="<%=i%>"></span> <%}%>	                  </li>	                  <%}%>	              </ul>'},t),i=JSON.parse(unescape(r.getCookie("_search_history")))||[];switch(n.operate){case"add":if("string"==typeof e&&""!=$.trim(e)){for(var o=0;o<i.length;o++)i[o]==e&&i.splice(o,1);i.length>=10&&i.splice(0,1),i.push(e)}break;case"delete":"number"==typeof e&&e>=0&&9>=e&&i.splice(e,1);break;case"deleteAll":i=[];break;case"autoComplete":i=e||[]}"autoComplete"!=n.operate&&r.setCookie("_search_history",JSON.stringify(i),365),n.$content&&(n.$content.html($.jqote(n.template,{suggestHistory:i})),0==i.length?l.hideSuggest($("#j-search").find(".j-searchSuggest")):l.showSuggest($("#j-search").find(".j-searchSuggest"),$("#j-search").find(".j-searchInput")))}});t.exports=d},function(t,e,n){var i=n(9),r={add:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/add.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},updateByNum:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/updateByNum.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},updateByCheck:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/updateByCheck.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},selectAll:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/selectAll.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},choosePromotion:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/choosePromotion.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},deleteCart:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/delete.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},getCarts:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/getCarts.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)}}),n},getMiniCart:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/getMiniCart.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)}}),n},selectGift:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/selectGift.json",data:e,contentType:"application/json",success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)}}),n},getMiniCartNum:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/cart/getMiniCartNum.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n}};t.exports=r},function(t,e,n){var i=n(9),r={_ajax:function(t,e,n,r){var o=e||{},a=$.Deferred();return i.ajax({url:t,data:o,success:function(t){a.resolve(t)},error:function(t,e,n){a.reject(t,e,n)},type:n||"POST",contentType:r||""}),a},listByItemSearch:function(t){return this._ajax("/xhr/item/listByItemSearch.json",t,"GET")},searchAutoComplete:function(t){return this._ajax("/xhr/search/searchAutoComplete.json",t,"GET")}};t.exports=r},function(t,e){var n=window.navigator.platform,i=window.navigator.userAgent,r={mac:n,win:n,linux:n,ipad:i,ipod:i,iphone:n,android:i};_p={},_p._$IS=r;for(var o in r)r[o]=new RegExp(o,"i").test(r[o]);r.ios=r.ipad||r.iphone||r.ipod,r.tablet=r.ipad,r.desktop=r.mac||r.win||r.linux&&!r.android,_p._$is=function(t){return!!r[t]};var a={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};if(_p._$KERNEL=a,/msie\s+(.*?);/i.test(i)||/trident\/.+rv:([\d\.]+)/i.test(i)){a.engine="trident",a.browser="ie",a.version=RegExp.$1,a.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var s={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};a.release=s[document.documentMode]||s[parseInt(a.version)]}else/webkit\/?([\d.]+?)(?=\s|$)/i.test(i)?(a.engine="webkit",a.release=RegExp.$1||"",a.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}):/rv\:(.*?)\)\s+gecko\//i.test(i)?(a.engine="gecko",a.release=RegExp.$1||"",a.browser="firefox",a.prefix={css:"Moz",pro:"moz",clz:"Moz"},/firefox\/(.*?)(?=\s|$)/i.test(i)&&(a.version=RegExp.$1||"")):/presto\/(.*?)\s/i.test(i)&&(a.engine="presto",a.release=RegExp.$1||"",a.browser="opera",a.prefix={css:"O",pro:"o",clz:"O"},/version\/(.*?)(?=\s|$)/i.test(i)&&(a.version=RegExp.$1||""));if("unknow"==a.browser)for(var c,s=["chrome","maxthon","safari"],l=0,u=s.length;u>l;l++)if(c="safari"==s[l]?"version":s[l],new RegExp(c+"/(.*?)(?=\\s|$)","i").test(i)){a.browser=s[l],a.version=RegExp.$1.trim();break}t.exports=_p},function(t,e,n){var i=n(7);_suggest={inputSuggest:function(t,e,n,i){function r(e){var i=e.find(".hl-item-txt").text();t.removeClass("js-dropmenu-ppnl"),t.addClass("f-hide"),t.removeClass("f-ani-ppnlmenu"),n.callback&&"function"==typeof n.callback&&n.callback(i)}function o(){var e=t.find(".hl-item-selected:first");e.length>0&&r(e)}var a=e;if(!a.data("__bindInputsuggest")){if(a.data("__bindInputsuggest",!0),"INPUT"===a.get(0).tagName)var e=a;else var e=a.find('input[type="text"]');t.delegate(".hl-item","mouseover",function(t){var e=$(t.currentTarget);e.siblings(".hl-item-hover").removeClass("hl-item-hover"),e.addClass("hl-item-hover")}),t.delegate(".hl-item","mouseout",function(t){var e=$(t.currentTarget);e.removeClass("hl-item-hover");
}),t.delegate(".hl-item","mousedown",function(t){var e=$(t.currentTarget);r(e)}),e.bind("keydown",function(e){if(13==e.keyCode)o();else{if(38==e.keyCode){var n=0==t.find(".hl-item-selected:first").length?t.find(".hl-item:first"):t.find(".hl-item-selected:first"),i=n.prevAll(":visible:first");return i.length>0&&!i.hasClass("top-item")&&(i.addClass("hl-item-selected"),n.removeClass("hl-item-selected")),!1}if(40==e.keyCode){var n=0==t.find(".hl-item-selected:first").length?t.find(".hl-item:first"):t.find(".hl-item-selected:first"),r=n.nextAll(":visible:first");return n.hasClass("hl-item-selected")?r.length>0&&(r.addClass("hl-item-selected"),n.removeClass("hl-item-selected")):n.addClass("hl-item-selected"),!1}}}),e.bind("blur",function(){_suggest.hideSuggest(t)}),e.bind("focus",function(e){return 13==e.keyCode||38==e.keyCode||40==e.keyCode?!1:void _suggest.showSuggest(t,a,i)})}},hideSuggest:function(t){t.removeClass("js-dropmenu-ppnl"),t.removeClass("f-ani-ppnlmenu"),t.addClass("f-hide")},showSuggest:function(t,e,n){return t.find(".hl-item").each(function(t,e){var n=$(e);n.removeClass("hl-item-hover hl-item-selected")}),0==t.find(".hl-item").length?(_suggest.hideSuggest(t),!1):(t.removeClass("f-hide"),t.addClass("js-dropmenu-ppnl"),setTimeout(function(){t.addClass("f-ani-ppnlmenu")},30),n=$.extend({axis:"left,bottom"},n),"border-box"===(e.css("box-sizing")||e.css("-webkit-box-sizing")||e.css("-moz-sizing"))?t.css("width",e.outerWidth()):t.css("width",e.width()),i.dockV(t,e,n),void i.addPop(t,e))}},t.exports=_suggest},function(t,e,n){var i=n(9),r={list:function(t){var e=$.Deferred();return i.ajax({url:"/xhr/coupon/list.json",data:t,success:function(t){e.resolve(t)},error:function(t,n,i){e.reject(t,n,i)},type:"GET"}),e},del:function(t){var e=$.Deferred();return i.ajax({url:"/xhr/coupon/delete.json",data:{id:t},success:function(t){e.resolve(t)},error:function(t,n,i){e.reject(t,n,i)},type:"POST"}),e},activate:function(t){var e=$.Deferred();return i.ajax({url:"/xhr/coupon/activate.json",data:{activationCode:t},success:function(t){var n={1:"兑换成功",2:"此优惠码已被兑换",3:"优惠码错误",4:"兑换次数超限",5:"此兑换码为新用户专享",6:"需要绑定手机",7:"该帐号绑定的手机号已兑换过",99:"优惠码已过期"};t.data={status:t.data,tipMsg:n[t.data]||"优惠码错误"},e.resolve(t)},error:function(t,n,i){e.reject(t,n,i)},type:"POST"}),e},count:function(){var t=$.Deferred();return i.ajax({url:"/xhr/coupon/countUnused.json",success:function(e){t.resolve(e)},error:function(e,n,i){t.reject(e,n,i)},type:"POST"}),t}};t.exports=r},function(t,e,n){var i=n(9),r={confirm:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/welcome/confirm.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)}}),n}};t.exports=r},function(t,e,n){var i=n(9),r={_ajax:function(t,e,n){var r=e||{},o=$.Deferred();return i.ajax({url:t,data:r,success:function(t){o.resolve(t)},error:function(t,e,n){o.reject(t,e,n)},type:n||"POST"}),o},show:function(t){return this._ajax("/xhr/gift/newUserGift/show.json",t,"POST")},isNewUser:function(t){return this._ajax("/xhr/gift/newUserGift/isNewUser.json",t,"GET")},get:function(t){return this._ajax("/xhr/gift/newUserGift/get.json",t,"POST")}};t.exports=r},function(t,e,n){var i=n(4),r=n(29),o=n(31),a=n(2),s=n(13);n(6)($);var c='<script id="j-template-newGiftModal" type="x-jqote-template">	  <div>	    <div class="title">	    	<div class="border"></div>	      <div class="text">新人专享好礼</div>	    </div>	    <div class="desc">	    	感谢您访问网易严选，我们为您准备了一份专享礼物	    </div>	    <img src="<%=this.itemPic%>?imageView&quality=90&thumbnail=520y296" alt="" />	    <div class="info">	    	<div class="left">	    		<p class="manuDesc"><%=this.manuDesc%></p>	    		<p class="itemName"><%if(this.pieceNum > 0){%><%=this.pieceNum%><%if(this.pieceUnit==0){%>件装<%}%><%if(this.pieceUnit==1){%>条装<%}%><%if(this.pieceUnit==2){%>双装<%}%><%if(this.pieceUnit==3){%>套装<%}%><%if(this.pieceUnit==4){%>支装<%}%><%if(this.pieceUnit==5){%>只装<%}%><%if(this.colorNum < 2){%>&nbsp;&nbsp;<%}%><%}%><%if(this.pieceNum > 0 && this.colorNum > 1){%>/<%}%><%if(this.colorNum > 1){%><%=this.colorNum%>色可选&nbsp;&nbsp;<%}%><%= this.itemName %></p>	    		<p class="price">	    			<span class="retailPrice">&yen;&nbsp;<span class="yen"><%=this.retailPrice%></span></span>	    			<% if(this.comparePrice!=null){%>	    			<span class="comparePrice">参考价：&yen;<%=this.comparePrice%>*</span>	    			<%}%>	    		</p>	    	</div>	    	<div class="right">	    		<a href="javascript:void(0);" class="w-button w-button-primary w-button-xl btn j-ok">新人领券再减&yen;<%=this.reducePrice%></a>	    		<a href="/item/detail?id=<%=this.itemId%>" class="w-button w-button-primary w-button-xl btn j-link" style="display:none;">立即购买</a>	    		<a href="/gift/newUserGift?_stat_referer=newUserGiftModal" class="more">更多新用户优惠&gt;&gt;</a>	    	</div>	    </div>	  </div>	</script>',l=i.extend({__config:function(t){a._$extend(t,{obj:{}})},__init:function(t){this.__supr(t),this.__initNode(),null==a.getCookie("yx_showNewUserEntrance")&&a.setCookie("yx_showNewUserEntrance","true",100)},__initNode:function(){var t=this.__data.obj;this.__body=$($(c).jqote(t)).showDialog({clsName:"m-newGiftModal",onclose:function(){this.__onCancelCallback()}.bind(this)});var e=this.__okBtn=this.__body.find(".j-ok").first();this.__linkBtn=this.__body.find(".j-link").first();e.click($.proxy(this.__onOkCallback,this))},__onCancelCallback:function(){this._$emit("onCancel")},__onOkCallback:function(){var t=this;return a._$isLogin()?(o.isNewUser({_stat_area:"giftItem"}),void r.activate(t.__data.obj.activationCode).done(function(e){var n=e.data;1==n.status?(s.notify("领取成功","error"),t._$emit("onOk"),t.__okBtn.hide(),t.__linkBtn.show()):6==n.status?location.href="/yxhdcn/forNewUserGift?code="+t.__data.obj.activationCode:s.notify(n.tipMsg,"error")})):void(location.href="/u/login?callback="+encodeURIComponent("/yxhdcn/forNewUserGift?code="+t.__data.obj.activationCode)+"&_stat_area=giftItem")}});t.exports=l},function(t,e,n){var i=n(9),r={getProvince:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/address/getProvince.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},getCity:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/address/getCity.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},getDistrict:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/address/getDistrict.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},getList:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/address/list.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},upsertAddress:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/address/upsertAddress.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"POST"}),n},setDefault:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/address/setDefault.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n},deleteAddress:function(t){var e=t||{},n=$.Deferred();return i.ajax({url:"/xhr/address/deleteAddress.json",data:e,success:function(t){n.resolve(t)},error:function(t,e,i){n.reject(t,e)},type:"GET"}),n}};t.exports=r},function(t,e,n){var i=n(6),r=n(35),o=n(33),a=n(13),s='<div><form class="m-form-addr j-form" novalidate><div class="w-tit-addr"><%=this.title||"新建地址"%></div>	                            <input name="id" value="<%=this.id||0%>" type="hidden"/>	                            <div class="w-row-addr" style="margin-top:40px">	                                <div class="w-col-2 ">	                                    <span class="w-label">收货人：</span>	                                    <div class="w-error-warp j-error-wrap">	                                    <input class="w-ipt" name="name" type="text" value="<%=this.name||""%>" tabindex="1"/></div>	                                </div>	                                <div class="w-col-2" style="width:275px;">	                                    <span class="w-label">手机号码：</span>	                                    <div class="w-error-warp j-error-wrap">	                                    <input class="w-ipt j-mobileFilter" name="mobile" type="text" value="<%=this.mobile||""%>" required="required" tabindex="2"/></div>	                                </div><div style="clear:both"></div>	                            </div>	                            <div class="w-row-addr">	                                <div class="w-col-4">	                                    <span class="w-label">所在地区：</span>	                                    <div class="w-error-warp j-error-wrap" style="margin-right:11px;margin-right:7px\\0;">	                                    <select name="provinceId" id="" class="w-select j-province" tabindex="3"><option value ="">省</option></select>	                                    <div style="clear:both"></div>	                                    </div><div class="w-error-warp j-error-wrap" style="margin-right:10px;margin-right:7px\\0;">	                                    <select name="cityId" id="" class="w-select j-city" tabindex="4"><option value ="">市</option></select>	                                    <div style="clear:both"></div>	                                    </div><div class="w-error-warp j-error-wrap">	                                    <select name="districtId" id="" class="w-select j-district" tabindex="5"><option value ="">区</option></select>	                                    <div style="clear:both"></div>	                                    </div>	                                    <input type="hidden" name="provinceName" class="j-provincename" value="<%=this.provinceName||""%>"/>	                                    <input type="hidden" name="cityName" class="j-cityname" value="<%=this.cityName||""%>"/>	                                    <input type="hidden" name="districtName" class="j-districtname" value="<%=this.districtName||""%>"/>	                                    <div style="clear:both"></div>	                                </div><div style="clear:both"></div>	                            </div>	                            <div class="w-row-addr">	                                <div class="w-col-4">	                                    <span class="w-label" style="vertical-align: top;margin-top:6px;">详细地址：</span>	                                    <div class="w-textarea w-error-warp j-error-wrap">	                                    <textarea  name="address" id="" cols="30" rows="10" tabindex="6"><%=this.address||""%></textarea>	                                    </div>	                                </div><div style="clear:both"></div>	                            </div>	                            <div class="w-row-addr" style="margin-top:40px">	                                <div class="w-col-1">	                                    <div class="w-chkbox">	                                    <input type="checkbox" name="dft" <%if(this.dft==true){%>checked<%}%> class="j-checkbox"><span>设为默认</span>	                                    </div>	                                </div>	                                <div class="w-col-3">	                                    <button type="button" class="w-button w-button-primary w-button-l j-submit" style="margin-left:45px">确定</button>	                                    <button type="button" class="w-button w-button-l j-cancel" style="margin-left:5px">取消</button>	                                    <div class="w-errorMsg j-msg" style="display: none;left:45px;top:45px;"><i class="icon w-icon-normal icon-normal-disable"></i><span class="text j-msg-con"></span></div>	                                </div><div style="clear:both"></div>	                            </div>	                            </form></div>',c='<div>	    <div class="w-tit-addr">选择地址</div>	    <div class="w-body-addr" <%if(this.size>3){%>style="overflow-y:scroll"<%}%>>	        <% var addressList = this.addressList;	            var dft = false;	                  for(var i=0;i<addressList.length;i++){	                    var address = addressList[i];	                    if(address.dft == true){dft = true;}	                %>	        <div class="w-addr-warp j-addr <%if(address.dft==true){%>active<%}%>" data-id="<%=address.id%>">	        <div class="m-address">	          <p class="line">	            <label class="label"><span class="textLeft">收</span><span>货</span><span class="textRight">人&nbsp;:&nbsp;</span></label>	            <span class="text"><%=address.name %></span>	          </p>	          <p class="line">	            <label class="label">联系方式&nbsp;:&nbsp;</label>	            <span class="text"><%=address.mobile %></span>	          </p>	          <p class="line">	            <label class="label">收货地址&nbsp;:&nbsp;</label>	            <span class="text"><%=address.fullAddress %></span>	          </p>	          <%if(address.dft==true){%> <span class="default">默认地址</span> <%}%>	        </div><i class="icon w-icon-normal icon-normal-spec-arrow"></i></div><%}%>	    </div><div style="margin:31px 0 0 80px">	    <button type="button" class="w-button w-button-primary w-button-l  j-ok <%if(!dft){%>w-button-forbid<%}%>" style="margin-left:45px">确定</button>	    <button type="button" class="w-button w-button-l j-cancel" style="margin-left:5px">取消</button>	    </div>	</div>',l='<div>	    <div class="w-tit-addr" style="margin-bottom:25px;">要删除此地址吗？</div>	        <% var address = this.address;%>	        <div class="m-address" data-id="<%=address.id%>">	          <p class="line">	            <label class="label"><span class="textLeft">收</span><span>货</span><span class="textRight">人&nbsp;:&nbsp;</span></label>	            <span class="text"><%= address.name %></span>	          </p>	          <p class="line">	            <label class="label">联系方式&nbsp;:&nbsp;</label>	            <span class="text"><%= address.mobile %></span>	          </p>	          <p class="line">	            <label class="label">收货地址&nbsp;:&nbsp;</label>	            <span class="text"><%= address.fullAddress %></span>	          </p>	        </div>	    <div style="position:absolute;bottom:20px;left:145px;height:80px;">	    <button type="button" class="w-button w-button-primary w-button-l j-ok">确定</button>	    <button type="button" class="w-button w-button-l j-cancel" style="margin-left:5px">取消</button>	    <div class="w-errorMsg j-msg" style="display: none;left:0;top:45px;position:absolute;"><i class="icon w-icon-normal icon-normal-disable"></i><span class="text j-msg-con" style="width:auto"></span></div>	</div>',u={rules:{name:{required:!0,maxlength:100},mobile:{mobile:!0,required:!0},provinceId:{required:!0},cityId:{required:!0},districtId:{required:function(){return $(".j-city").val()&&1===$(".j-district").find("option").length?!1:!0}},address:{required:!0,maxlength:80}},messages:{name:{required:"收货人不能为空",maxlength:"收货人不能超过{0}字"},mobile:{mobile:"请输入正确的手机号码",required:"手机号码不能为空"},provinceId:{required:"省不能为空"},cityId:{required:"市不能为空"},districtId:{required:"区不能为空"},address:{required:"详细地址不能为空",maxlength:"详细地址不能超过{0}字"}}};i($),r($);var d,f={add:function(t){var e=this;if(void 0!=t&&void 0!=t.size)t.size<10?e._initForm(t):a.notify("地址最多10条","error");else{var n=o.getList();n.done(function(n){var i=n.data.length;t.size=i,t.size<10?e._initForm(t):a.notify("地址最多10条","error")}),n.fail(function(t,e,n){a.notify(e,"error")})}},update:function(t){this._initForm(t)},del:function(t){var t=t||{},e=t.data||{},n=$($.jqote(l,{address:e}));d=n.showDialog({clsName:"m-pop-deleteAddr"}),$(".j-ok").on("click",function(){var n=o.deleteAddress({id:e.id});n.done(function(e){var n=e.data;t.success&&t.success(n),d.closeDialog()}),n.fail(function(e,n,i){t.error&&t.error(e,n,i),$(".j-msg").show(),$(".j-msg-con").html(n)})}),$(".j-cancel").on("click",function(){d.closeDialog()})},change:function(t){var t=t||{},e=o.getList();e.done(function(e){var n=e.data,i=null;$.each(n,function(t,e){return 1==e.dft?(i=e,n.splice(t,1),!1):void 0}),null!=i&&n.unshift(i);var r=$($.jqote(c,{addressList:n,size:n.length}));d=r.showDialog({clsName:"m-pop-changeAddr"});var o=null;$(".j-addr").on("click",function(){$(".j-addr").removeClass("active"),$(".j-ok").removeClass("w-button-forbid"),$(this).addClass("active")}),$(".j-ok").on("click",function(){var e=null;if(!$(this).hasClass("w-button-forbid")){$(".j-addr").each(function(t,e){return $(this).hasClass("active")?(o=$(this).attr("data-id"),!1):void 0}),$.each(n,function(t,n){return n.id==o?(e=n,!1):void 0});var i=2,r=new Date;r.setTime(r.getTime()+60*i*60*1e3),document.cookie="CHECKED_ADDRID="+e.id+";expires="+r.toGMTString(),d.closeDialog(),t.success&&null!=e&&t.success(e)}}),$(".j-cancel").on("click",function(){d.closeDialog()})}),e.fail(function(e,n,i){t.error&&t.error(e,n,i)})},setDefault:function(t){var t=t||{},e=t.data||{},n=o.setDefault({id:e.id});n.done(function(e){t.success&&t.success(e)}),n.fail(function(e,n,i){t.error&&t.error(e,n,i)})},__initProvinceData:function(t){var t=t||{},e=this,n=t.provinceId,i=o.getProvince();i.done(function(t){e._render(t.data,n,".j-province")})},__initCityData:function(t){var t=t||{},e=this,n=t.cityId,i=o.getCity({parentId:t.provinceId});i.done(function(t){e._render(t.data,n,".j-city")})},__initDistrictData:function(t){var t=t||{},e=this,n=t.districtId,i=o.getDistrict({parentId:t.cityId});i.done(function(t){var i={id:0,level:2,zonename:"其他",code:"0",parentid:0,province:"",city:""};t.data.length>0&&(t.data[t.data.length]=i),e._render(t.data,n,".j-district")})},_provinceSelectcb:function(t){var e=t.data.that,n=$(this).val(),i=$(this).find("option:selected").text();$(".j-provincename").val(i);var r={provinceId:n};e.__initCityData(r),e._render("","",".j-district")},_citySelectcb:function(t){var e=t.data.that,n=$(this).val(),i=$(this).find("option:selected").text();$(".j-cityname").val(i);var r={cityId:n};e.__initDistrictData(r)},_districtSelectcb:function(){var t=$(this).find("option:selected").text();$(".j-districtname").val(t)},_initForm:function(t){var t=t||{},e=this,n={},i=t.data;$address_item_html=$($.jqote(s,i||{})),d=$address_item_html.showDialog({clsName:"m-pop-addr"}),void 0!=t.size&&0==t.size&&$(".j-checkbox").attr("checked",!0),void 0!=i&&(n={provinceId:i.provinceId,cityId:i.cityId,districtId:i.districtId},this.__initCityData(n),this.__initDistrictData(n));var r=d.find(".j-form"),o=r.find(".j-province").first(),a=r.find(".j-city").first(),c=r.find(".j-district").first(),l=r.find(".j-submit").first(),f=r.find(".j-cancel").first(),h=r.find(".j-mobileFilter").first();this.__initProvinceData(n),o.on("change",{that:e},this._provinceSelectcb),a.on("change",{that:e},this._citySelectcb),c.on("change",{that:e},this._districtSelectcb),l.on("click",function(){var n=r.formValidate(u);n&&e._submit(r,t)}),f.on("click",function(){d.closeDialog()}),h.bind("change",function(){$(this).val($(this).val().replace(/(\*)+/g,""))})},_submit:function(t,e){for(var e=e||{},n={},i=t.get(0).elements,r=0;r<i.length;r++)if(void 0!=i[r].name&&""!=i[r].name){var a=i[r].name,s=i[r].value;"checkbox"==i[r].type&&(s=i[r].checked),s&&(n[a]=s)}var c=o.upsertAddress(n);c.done(function(t){var n=t.data;d.closeDialog(),e.success&&e.success(n)}),c.fail(function(t,n,i){e.error&&e.error(t,n,i),$(".j-msg").show(),$(".j-msg-con").html(n)})},_render:function(t,e,n){var i={".j-province":"省",".j-city":"市",".j-district":"区"},r=$(n).get(0);if(r&&"SELECT"===r.tagName){for(var o='<option value ="">'+i[n]+"</option>",a=0;a<t.length;a++){var s=t[a];o+='<option value ="'+s.id+'"',s.id===e&&(o+=' selected="selected"'),o+=">",o+=s.zonename,o+="</option>"}$(n).html(o)}}};t.exports=f},function(t,e,n){var i=n(11),r=n(9),o='<div class="w-errorMsg j-error">	                        <i class="icon w-icon-normal icon-normal-disable">	                        </i><span class="text j-errorTip"></span></div>';t.exports=function(t){!function(t){function e(e,n){var i=e.parents(".j-error-wrap");return t(".j-error",i).remove(),i.append(t(o)),i.find(".j-error").show(),i.find(".j-errorTip").html(n),new Error(n)}function n(t){var e=t.parents(".j-error-wrap");e.remove(".j-error"),e.find(".j-error").hide(),e.find(".j-errorTip").html("")}t.fn.extend({validateInput:function(n,o,a){var s=this.get(0);if(s&&"INPUT"===s.tagName||"TEXTAREA"===s.tagName||"SELECT"===s.tagName){var c,l,u=t(s),d=u.attr("type");if("radio"===d){if(!u.is(":checked"))return;c=u.val()}else c=u.val();void 0!==a&&""!==a&&(a=t(a));var f=n.required;if((f===!0||"function"==typeof f&&f())&&""===t.trim(c))return e(a||u,o.required||"不能为空");var h=n.minlength;if(h&&c.length<parseInt(h,10))return e(a||u,o.minlength.replace("{0}",h)||"不能少于"+h+"字符");var p=n.maxlength;if(p&&c.length>parseInt(p,10))return e(a||u,o.maxlength.replace("{0}",p)||"不能多于"+p+"字符");var v=n.number;if(1==v&&(l=parseInt(c,10),l+""!==c))return e(a||u,o.number||"请输入数字");var _=n.email;if(1==_&&!i.isEmail(c))return e(a||u,o.email||"请输入正确的email格式");var g=n.date;if(1==g&&(l=Date.parse(c),"number"!=typeof l))return e(a||u,o.date||"请输入正确的时间格式 如：2015-10-30 10:10:10");var m=n.mobile;if(1==m&&!i.isCellPhone(c)&&!/^1[34578]\d{1}\*{4}\d{4}$/.test(c))return e(a||u,o.mobile||"请输入正确的手机号码格式");var w=n.remote||{};if("string"==typeof w.url&&""!=w.url){var y=!0,b={};if("function"==typeof w.param&&(b=w.param()||{}),r.ajax({url:w.url,data:b,success:function(t){0==t.data&&(y=!1)},error:function(t,e,n){y=!1},type:"GET",contentType:"",async:!1}),!y)return e(a||u,o.remote||errorCode)}return"undefined"==typeof l&&(l=c),l}var u=t(s),c=u.val();return c},formValidate:function(e){var i=this.get(0);if(i&&"FORM"===i.tagName){var r=e.errorPlacement,o=e.rules||{},a=e.messages||{},s={},c=[];this.data("__validateInit")||(this.data("__validateInit",!0),this.delegate("INPUT,TEXTAREA,SELECT","input propertychange",function(e){n(t(r||e.currentTarget))}));for(name in o)if(i[name]){var l=t(i[name]),u=a[name]||{},d=o[name]||{},f=l.validateInput(d,u,r);f instanceof Error?c.push(f):"undefined"!=typeof f&&("undefined"!=typeof s[name]?(t.isArray(s[name])||(s[name]=[s[name]]),s[name].push(f)):s[name]=f)}if(c.length>0)return;return s}}})}(t)}},,,,,,,,,,,,function(t,e,n){var i=n(6),r=n(2),o=n(3);i($),e.show=function(t){var e=$('<div><div id="j-loginFormWrap" style="height:460px;"></div></div>').showDialog({clsName:"m-loginPop"}),n=new URS(r._$getLoginConfig(!0));n.logincb=function(n){o._$isFunction(t)?r._$createIframe("/activity/csrf",t):location.href=t,e.closeDialog()},$(".m-login").closest(".j-w-dialog-body").on("click",".j-close-pop",function(){$("body").trigger("loginDialog.close")})}},,,,,,,,function(t,e,n){var i=n(2),r=n(4),o=n(6),a='<div>	                    <div class="w-tips j-text"></div>	                    <a class="w-button w-button-primary w-button-l pos-m j-ok"></a>	                 </div>';o($);var s=r.extend({__config:function(t){i._$extend(t,{tips:"",okText:"确定"})},__init:function(t){this.__supr(t),this.__initNode()},__initNode:function(){this.__body=$(a).showDialog({});var t=this.__body.find(".j-ok").first(),e=this.__body.find(".j-text").first();e.html(this.__data.tips),t.html(this.__data.okText),t.click($.proxy(this.__onOkCallback,this))},__onOkCallback:function(){this.__body.closeDialog(),this._$emit("onok")}});t.exports=s},,,,,,,,,,,,function(t,e){var n=0,i={getTimeZoneDate:function(t){t=t||(new Date).getTime();var e=8,n=-(new Date).getTimezoneOffset()/60;return t=+t+1e3*(e-n)*60*60,new Date(t)},setServerTime:function(t){n=t-(new Date).getTime()},getServerTime:function(){return new Date(n+(new Date).getTime())},formatDate:function(t,e){("number"==typeof t||"string"==typeof t)&&(t=this.getTimeZoneDate(parseInt(t,10)));var n={"y+":t.getFullYear(),"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()},i={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+i[t.getDay()+""]));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},getPostTimeTip:function(t){var e=(new Date).getTime(),t=new Date(t).getTime(),n=e-t,i=1e3,r=60*i,o=60*r,a=24*o,s=Math.floor(n/a);n-=a*s;var c=Math.floor(n/o);n-=o*c;var l=Math.floor(n/r);n-=r*l;var u=Math.floor(n/i),d="";return d+=s>0?s+"天":c>0?c+"小时":l>0?l+"分钟":u+"秒",d+="前"}};t.exports=i},function(t,e,n){var i=n(9),r=(n(10),{_ajax:function(t,e,n,r){var o=e||{},a=$.Deferred();return i.ajax({url:t,data:o,success:function(t){a.resolve(t)},error:function(t,e,n){a.reject(t,e,n)},type:n||"POST"}),a},getList:function(t){return this._ajax("/xhr/order/getList.json",t,"GET")},payCheck:function(t){return this._ajax("/xhr/order/payCheck.json",t,"GET")},cancelOrder:function(t){return this._ajax("/xhr/order/cancel.json",t,"GET")},getCancelStep:function(t){return this._ajax("/xhr/order/getCancelStep.json",t,"GET")},confirmDelivery:function(t){return this._ajax("/xhr/order/confirmDelivery.json",t,"GET")},getDelivery:function(t){return this._ajax("/xhr/order/getDelivery.json",t,"GET")},del:function(t){return this._ajax("/xhr/order/delete.json",t,"GET")},submit:function(t){return this._ajax("/xhr/order/submit.json",t)},beforeInit:function(t){return this._ajax("/xhr/order/beforeInit.json",t)},init:function(t){return this._ajax("/xhr/order/init.json",t)},payComplete:function(t){return this._ajax("/xhr/order/payComplete.json",t,"GET")},reload:function(t){return this._ajax("/xhr/order/reload.json",t)}});t.exports=r},,,,,,,,,,,,,,,,,function(t,e,n){var i=n(6);i($),e.show=function(t,e,n){var i=$.jqote("#j-lowStocksDialog",{skuList:t,code:e}),r=$(i).showDialog({clsName:"m-pop-lowStocks"});return n&&r.find(".j-goBack").first().attr("href","/item/detail?id="+n),r}},function(t,e,n){function i(t,e){var n,i=[],r=[];for(e=e||t[0].id,n=0;n<t.length;++n)t[n].usable?i.push(t[n]):r.push(t[n]);var o=u.jqote({useableCouponList:i,noUseableCouponList:r,$couponTemplate:d,active:e});s=$(o).showDialog({clsName:"m-couponPop"})}function r(t,e){$("#j-couponDialogCancel").on("click",function(e){e.preventDefault(),s.closeDialog(),t.reject()}),$("#j-couponDialogOK").on("click",function(n){n.preventDefault();for(var i,r=$(".j-coupon.active").data("id"),o=0;o<e.length;++o)if(e[o].id==r){i=e[o];break}i?t.resolve(i):t.reject(),s.closeDialog()}),$("#j-coupons").on("click",".j-coupon",function(t){t.preventDefault(),o.call(this)})}function o(){var t=$(this),e=$(".j-coupon.active");t.hasClass("active")||t.hasClass("coupon-disabled")||(t.addClass("active"),e.removeClass("active"))}var a=n(6);n(29);a($);var s,c='<script id="j-couponList" type="x-jqote-template">	  <div>	    <div id="j-coupons" class="m-coupons">	      <h3 class="title">选择优惠券</h3>	      <div class="bd">	        <ul class="m-couponList">	          <% for(var i = 0; i < this.useableCouponList.length; ++i) { %>	          <li class="item">	            <%= this.$couponTemplate.jqote({data: this.useableCouponList[i], active: this.active}) %>	          </li>	          <% } %>	        </ul>	        <% if(this.noUseableCouponList.length != 0) { %>	        <div class="nouseable-title">	          <div class="line"></div>	          <p class="no-useable-tip">以下不适用于此订单</p>	        </div>	        <% }  %>	        <ul class="m-couponList">	          <% for(var i = 0; i < this.noUseableCouponList.length; ++i) { %>	          <li class="item">	            <%= this.$couponTemplate.jqote({data: this.noUseableCouponList[i], active: this.active}) %>	          </li>	          <% } %>	        </ul>	      </div>	      <footer class="ft">	        <button id="j-couponDialogOK" type="button" class="w-button w-button-primary w-button-l button-OK">确定</button>	        <button id="j-couponDialogCancel" type="button" class="w-button w-button-l">取消</button>	      </footer>	    </div>	  </div>	</script>',l='<script type="x-jqote-template">	<% if(!this.data.usable) { %>	  <div class="j-coupon w-coupon coupon-l coupon-disabled" data-id="<%= this.data.id %>">	<% } else {%>	  <% if(this.data.type == 1) { %>	    <div class="j-coupon w-coupon coupon-l coupon-cash" data-id="<%= this.data.id %>">	  <% } else if(this.data.type == 2){%>	    <div class="j-coupon w-coupon coupon-l coupon-fullCut" data-id="<%= this.data.id %>">	  <% } else {%>	    <div class="j-coupon w-coupon coupon-l coupon-func" data-id="<%= this.data.id %>">	  <% }  %>	<% }  %>	  <div class="active-bg">	    <i class="icon w-icon-normal icon-normal-spec-arrow"></i>	  </div>	  <% if(this.data.appOnly || this.data.newUserOnly) { 	    var _txt = "",	        _class = "appOnly";	    if(this.data.appOnly){	      _txt = "APP专享";	    }	    if(this.data.newUserOnly){	      _txt = "新人专享";	    }	  %>	  <div class="<%=_class%>"><%=_txt%></div>	  <% } %>	  <div class="inner">	    <div class="desc"><%= this.data.name %></div>	    <div class="range">	      <span class="text">	        <%= (this.data.useCondition.length > 30 ? this.data.useCondition.substring(0, 30) + "..." : this.data.useCondition) %>	      </span>	      <% if (this.data.useCondition.length > 30) {%>	        <div class="couponInfo w-toolTip w-toolTip-coupon">	          <i class="w-icon-normal icon-normal-couponInfo toolTip-toggle"></i>	          <div class="toolTip-cnt">	            <i class="toolTip-triangle"></i>	            <p class="toolTip-inner"><%= this.data.useCondition %></p>	          </div>	        </div>	      <% } %>	    </div>	    <div class="validity">	      <span class="f-fl">	        有效期&nbsp;:&nbsp;<%= this.data.validStartDate %>-<%= this.data.validEndDate %>	      </span>	    </div>	  <div>	</div>	</script>',u=$(c),d=$(l);e.show=function(t,e){var n=$.Deferred();return i(t,e),r(n,t),n.promise()}},function(t,e,n){var i=n(9),r={_ajax:function(t,e,n){var r=e||{},o=$.Deferred();return i.ajax({url:t,data:r,success:function(t){o.resolve(t)},error:function(t,e,n){o.reject(t,e,n)},type:n||"POST"}),o},bind:function(t){return this._ajax("/xhr/giftCard/bind.json",t,"POST")},listUseLog:function(t){return this._ajax("/xhr/giftCard/listUseLog.json",t,"POST")},list:function(t){return this._ajax("/xhr/giftCard/list.json",t,"POST")}};t.exports=r},function(t,e,n){var i=n(9),r={_ajax:function(t,e,n,r){var o=e||{},a=$.Deferred();return i.ajax({url:t,data:o,success:function(t){a.resolve(t)},error:function(t,e,n){a.reject(t,e,n)},type:n||"POST",contentType:r||""}),a},verify:function(t){var e="/xhr/userPayPwd/verify.json";return e=r.useHttps(e),this._ajax(e,t,"POST")},verifyCode:function(t){return this._ajax("/xhr/userPayPwd/verifyCode.json",t,"POST")},sendCode:function(t){return this._ajax("/xhr/userPayPwd/sendCode.json",t,"POST")},init:function(t){var e="/xhr/userPayPwd/init.json";return e=r.useHttps(e),this._ajax(e,t,"POST")},changeByPwd:function(t){var e="/xhr/userPayPwd/changeByPwd.json";return e=r.useHttps(e),this._ajax(e,t,"POST")},changeByMobile:function(t){var e="/xhr/userPayPwd/changeByMobile.json";return e=r.useHttps(e),this._ajax(e,t,"POST")},checkIfSet:function(){return this._ajax("/xhr/userPayPwd/checkIfSet.json",{},"POST")},useHttps:function(t){return t}};t.exports=r},function(t,e,n){!function(e){"use strict";var i,r=e.Base64,o="2.1.9";if("undefined"!=typeof t&&t.exports)try{i=n(90).Buffer}catch(a){}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(t){for(var e={},n=0,i=t.length;i>n;n++)e[t.charAt(n)]=n;return e}(s),l=String.fromCharCode,u=function(t){if(t.length<2){var e=t.charCodeAt(0);return 128>e?t:2048>e?l(192|e>>>6)+l(128|63&e):l(224|e>>>12&15)+l(128|e>>>6&63)+l(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return l(240|e>>>18&7)+l(128|e>>>12&63)+l(128|e>>>6&63)+l(128|63&e)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(t){return t.replace(d,u);
},h=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),i=[s.charAt(n>>>18),s.charAt(n>>>12&63),e>=2?"=":s.charAt(n>>>6&63),e>=1?"=":s.charAt(63&n)];return i.join("")},p=e.btoa?function(t){return e.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,h)},v=i?function(t){return(t.constructor===i.constructor?t:new i(t)).toString("base64")}:function(t){return p(f(t))},_=function(t,e){return e?v(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):v(String(t))},g=function(t){return _(t,!0)},m=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),w=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return l((n>>>10)+55296)+l((1023&n)+56320);case 3:return l((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return l((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},y=function(t){return t.replace(m,w)},b=function(t){var e=t.length,n=e%4,i=(e>0?c[t.charAt(0)]<<18:0)|(e>1?c[t.charAt(1)]<<12:0)|(e>2?c[t.charAt(2)]<<6:0)|(e>3?c[t.charAt(3)]:0),r=[l(i>>>16),l(i>>>8&255),l(255&i)];return r.length-=[0,0,2,1][n],r.join("")},x=e.atob?function(t){return e.atob(t)}:function(t){return t.replace(/[\s\S]{1,4}/g,b)},j=i?function(t){return(t.constructor===i.constructor?t:new i(t,"base64")).toString()}:function(t){return y(x(t))},C=function(t){return j(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},$=function(){var t=e.Base64;return e.Base64=r,t};if(e.Base64={VERSION:o,atob:x,btoa:p,fromBase64:C,toBase64:_,utob:f,encode:_,encodeURI:g,btou:y,decode:C,noConflict:$},"function"==typeof Object.defineProperty){var k=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",k(function(){return C(this)})),Object.defineProperty(String.prototype,"toBase64",k(function(t){return _(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",k(function(){return _(this,!0)}))}}e.Meteor&&(Base64=e.Base64)}(this)},function(t,e,n){(function(t,i){"use strict";function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):c(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function a(e,n){if(e=v(e,0>n?0:0|_(n)),!t.TYPED_ARRAY_SUPPORT)for(var i=0;n>i;i++)e[i]=0;return e}function s(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var i=0|m(e,n);return t=v(t,i),t.write(e,n),t}function c(e,n){if(t.isBuffer(n))return l(e,n);if(Q(n))return u(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return d(e,n);if(n instanceof ArrayBuffer)return f(e,n)}return n.length?h(e,n):p(e,n)}function l(t,e){var n=0|_(e.length);return t=v(t,n),e.copy(t,0,0,n),t}function u(t,e){var n=0|_(e.length);t=v(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function d(t,e){var n=0|_(e.length);t=v(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function f(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=d(e,new Uint8Array(n)),e}function h(t,e){var n=0|_(e.length);t=v(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function p(t,e){var n,i=0;"Buffer"===e.type&&Q(e.data)&&(n=e.data,i=0|_(n.length)),t=v(t,i);for(var r=0;i>r;r+=1)t[r]=255&n[r];return t}function v(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var i=0!==n&&n<=t.poolSize>>>1;return i&&(e.parent=J),e}function _(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(e,n){if(!(this instanceof g))return new g(e,n);var i=new t(e,n);return delete i.parent,i}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(i)return Y(t).length;e=(""+e).toLowerCase(),i=!0}}function w(t,e,n){var i=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return E(this,e,n);case"binary":return P(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;i>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function b(t,e,n,i){return V(Y(e,t.length-n),t,n,i)}function x(t,e,n,i){return V(q(e),t,n,i)}function j(t,e,n,i){return x(t,e,n,i)}function C(t,e,n,i){return V(H(e),t,n,i)}function $(t,e,n,i){return V(z(e,t.length-n),t,n,i)}function k(t,e,n){return 0===e&&n===t.length?W.fromByteArray(t):W.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;n>r;){var o=t[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=r+s){var c,l,u,d;switch(s){case 1:128>o&&(a=o);break;case 2:c=t[r+1],128===(192&c)&&(d=(31&o)<<6|63&c,d>127&&(a=d));break;case 3:c=t[r+1],l=t[r+2],128===(192&c)&&128===(192&l)&&(d=(15&o)<<12|(63&c)<<6|63&l,d>2047&&(55296>d||d>57343)&&(a=d));break;case 4:c=t[r+1],l=t[r+2],u=t[r+3],128===(192&c)&&128===(192&l)&&128===(192&u)&&(d=(15&o)<<18|(63&c)<<12|(63&l)<<6|63&u,d>65535&&1114112>d&&(a=d))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return I(i)}function I(t){var e=t.length;if(Z>=e)return String.fromCharCode.apply(String,t);for(var n="",i=0;e>i;)n+=String.fromCharCode.apply(String,t.slice(i,i+=Z));return n}function E(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(127&t[r]);return i}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(t[r]);return i}function S(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=e;n>o;o++)r+=F(t[o]);return r}function A(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function D(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,i,r,o,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||a>n)throw new RangeError("value is out of bounds");if(i+r>e.length)throw new RangeError("index out of range")}function U(t,e,n,i){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);o>r;r++)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function B(t,e,n,i){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);o>r;r++)t[n+r]=e>>>8*(i?r:3-r)&255}function N(t,e,n,i,r,o){if(e>r||o>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function O(t,e,n,i,r){return r||N(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,e,n,i,23,4),n+4}function L(t,e,n,i,r){return r||N(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,e,n,i,52,8),n+8}function M(t){if(t=G(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function F(t){return 16>t?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],a=0;i>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function z(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function H(t){return W.toByteArray(M(t))}function V(t,e,n,i){for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}var W=n(91),K=n(92),Q=n(93);e.Buffer=t,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var J={};t.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:r(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var i=e.length,r=n.length,o=0,a=Math.min(i,r);a>o&&e[o]===n[o];)++o;return o!==a&&(i=e[o],r=n[o]),r>i?-1:i>r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var i;if(void 0===n)for(n=0,i=0;i<e.length;i++)n+=e[i].length;var r=new t(n),o=0;for(i=0;i<e.length;i++){var a=e[i];a.copy(r,o),o+=a.length}return r},t.byteLength=m,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):w.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function i(t,e,n){for(var i=-1,r=0;n+r<t.length;r++)if(t[n+r]===e[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===e.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return i(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):i(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=e,e=0|n,n=r}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"binary":return j(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;t.prototype.slice=function(e,n){var i=this.length;e=~~e,n=void 0===n?i:~~n,0>e?(e+=i,0>e&&(e=0)):e>i&&(e=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),e>n&&(n=e);var r;if(t.TYPED_ARRAY_SUPPORT)r=t._augment(this.subarray(e,n));else{var o=n-e;r=new t(o,void 0);for(var a=0;o>a;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},t.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),K.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),K.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),K.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),K.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||R(this,t,e,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||R(this,t,e,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},t.prototype.writeUInt8=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):U(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):U(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):B(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):B(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):U(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):U(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):B(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):B(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return O(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return O(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},t.prototype.copy=function(e,n,i,r){if(i||(i=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&i>r&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-i&&(r=e.length-n+i);var o,a=r-i;if(this===e&&n>i&&r>n)for(o=a-1;o>=0;o--)e[o+n]=this[o+i];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)e[o+n]=this[o+i];else e._set(this.subarray(i,i+a),n);return a},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof t)for(i=e;n>i;i++)this[i]=t;else{var r=Y(t.toString()),o=r.length;for(i=e;n>i;i++)this[i]=r[i%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,i=e.length;i>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var X=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=X.get,e.set=X.set,e.write=X.write,e.toString=X.toString,e.toLocaleString=X.toString,e.toJSON=X.toJSON,e.equals=X.equals,e.compare=X.compare,e.indexOf=X.indexOf,e.copy=X.copy,e.slice=X.slice,e.readUIntLE=X.readUIntLE,e.readUIntBE=X.readUIntBE,e.readUInt8=X.readUInt8,e.readUInt16LE=X.readUInt16LE,e.readUInt16BE=X.readUInt16BE,e.readUInt32LE=X.readUInt32LE,e.readUInt32BE=X.readUInt32BE,e.readIntLE=X.readIntLE,e.readIntBE=X.readIntBE,e.readInt8=X.readInt8,e.readInt16LE=X.readInt16LE,e.readInt16BE=X.readInt16BE,e.readInt32LE=X.readInt32LE,e.readInt32BE=X.readInt32BE,e.readFloatLE=X.readFloatLE,e.readFloatBE=X.readFloatBE,e.readDoubleLE=X.readDoubleLE,e.readDoubleBE=X.readDoubleBE,e.writeUInt8=X.writeUInt8,e.writeUIntLE=X.writeUIntLE,e.writeUIntBE=X.writeUIntBE,e.writeUInt16LE=X.writeUInt16LE,e.writeUInt16BE=X.writeUInt16BE,e.writeUInt32LE=X.writeUInt32LE,e.writeUInt32BE=X.writeUInt32BE,e.writeIntLE=X.writeIntLE,e.writeIntBE=X.writeIntBE,e.writeInt8=X.writeInt8,e.writeInt16LE=X.writeInt16LE,e.writeInt16BE=X.writeInt16BE,e.writeInt32LE=X.writeInt32LE,e.writeInt32BE=X.writeInt32BE,e.writeFloatLE=X.writeFloatLE,e.writeFloatBE=X.writeFloatBE,e.writeDoubleLE=X.writeDoubleLE,e.writeDoubleBE=X.writeDoubleBE,e.fill=X.fill,e.inspect=X.inspect,e.toArrayBuffer=X.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(90).Buffer,function(){return this}())},function(t,e,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===d?62:e===s||e===f?63:c>e?-1:c+10>e?e-c+26+26:u+26>e?e-u:l+26>e?e-l+26:void 0}function n(t){function n(t){l[d++]=t}var i,r,a,s,c,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;c="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,l=new o(3*t.length/4-c),a=c>0?t.length-4:t.length;var d=0;for(i=0,r=0;a>i;i+=4,r+=3)s=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&s)):1===c&&(s=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(s>>8&255),n(255&s)),l}function r(t){function e(t){return i.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,o,a,s=t.length%3,c="";for(r=0,a=t.length-s;a>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],c+=n(o);switch(s){case 1:o=t[t.length-1],c+=e(o>>2),c+=e(o<<4&63),c+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],c+=e(o>>10),c+=e(o>>4&63),c+=e(o<<2&63),c+="="}return c}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),c="0".charCodeAt(0),l="a".charCodeAt(0),u="A".charCodeAt(0),d="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=r}(e)},function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?r-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+t[e+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+d],d+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,i),o-=l}return(h?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,c,l=8*o-r-1,u=(1<<l)-1,d=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+d>=1?f/c:f*Math.pow(2,1-d),e*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*c-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+h]=255&a,h+=p,a/=256,l-=8);t[n+h-p]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){!function(t){t(jQuery)}(function(t){function e(e){var n={},i=/^jQuery\d+$/;return t.each(e.attributes,function(t,e){e.specified&&!i.test(e.name)&&(n[e.name]=e.value)}),n}function n(e,n){var i=this,o=t(this);if(i.value===o.attr(s?"placeholder-x":"placeholder")&&o.hasClass(h.customClass))if(i.value="",o.removeClass(h.customClass),o.data("placeholder-password")){if(o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=n,n;o.focus()}else i==r()&&i.select()}function i(i){var r,o=this,a=t(this),c=o.id;if(!i||"blur"!==i.type||!a.hasClass(h.customClass))if(""===o.value){if("password"===o.type){if(!a.data("placeholder-textinput")){try{r=a.clone().prop({type:"text"})}catch(l){r=t("<input>").attr(t.extend(e(this),{type:"text"}))}r.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":a,"placeholder-id":c}).bind("focus.placeholder",n),a.data({"placeholder-textinput":r,"placeholder-id":c}).before(r)}o.value="",a=a.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",a.data("placeholder-id")).show()}else{var u=a.data("placeholder-password");u&&(u[0].value="",a.attr("id",a.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}a.addClass(h.customClass),a[0].value=a.attr(s?"placeholder-x":"placeholder")}else a.removeClass(h.customClass)}function r(){try{return document.activeElement}catch(t){}}var o,a,s=!1,c="[object OperaMini]"===Object.prototype.toString.call(window.operamini),l="placeholder"in document.createElement("input")&&!c&&!s,u="placeholder"in document.createElement("textarea")&&!c&&!s,d=t.valHooks,f=t.propHooks,h={};l&&u?(a=t.fn.placeholder=function(){return this},a.input=!0,a.textarea=!0):(a=t.fn.placeholder=function(e){var r={customClass:"placeholder"};return h=t.extend({},r,e),this.filter((l?"textarea":":input")+"["+(s?"placeholder-x":"placeholder")+"]").not("."+h.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":n,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder")},a.input=l,a.textarea=u,o={get:function(e){var n=t(e),i=n.data("placeholder-password");return i?i[0].value:n.data("placeholder-enabled")&&n.hasClass(h.customClass)?"":e.value},set:function(e,o){var a,s,c=t(e);return""!==o&&(a=c.data("placeholder-textinput"),s=c.data("placeholder-password"),a?(n.call(a[0],!0,o)||(e.value=o),a[0].value=o):s&&(n.call(e,!0,o)||(s[0].value=o),e.value=o)),c.data("placeholder-enabled")?(""===o?(e.value=o,e!=r()&&i.call(e)):(c.hasClass(h.customClass)&&n.call(e),e.value=o),c):(e.value=o,c)}},l||(d.input=o,f.value=o),u||(d.textarea=o,f.value=o),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t("."+h.customClass,this).each(function(){n.call(this,!0,"")});setTimeout(function(){e.each(i)},10)})}),t(window).bind("beforeunload.placeholder",function(){var e=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(e=!1)}catch(n){}e&&t("."+h.customClass).each(function(){this.value=""})}))})}]);